!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&y&&(g=!1,y.length?h=y.concat(h):v=-1,h.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=h.length;t;){for(y=h,h=[];++v<t;)y&&y[v].run();v=-1,t=h.length}y=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,p,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}}();var y,h=[],g=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new c(e,t)),1!==h.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],3:[function(e,t,r){"use strict";function n(e){var t,r,__directInterface,n,u;return function(){t=o(),n=e.desktopGlobalTimeout,u=e.mobileGlobalTimeout,"mobile"===SpaceCamp.DeviceTypeChecker.getDeviceType()?SpaceCamp.globalTimeout=u:SpaceCamp.globalTimeout=n,r={slotDemandHistory:{},desktopGlobalTimeout:n,mobileGlobalTimeout:u},__directInterface={};for(var i=0;i<s.length;i++)__directInterface=a.mergeObjects(__directInterface,s[i](e,r,t._executeNext));t._setDirectInterface("GptLayer",__directInterface)}(),i.derive(t,{})}var i=e(11),o=e(5),SpaceCamp=e(52),a=e(30),s=(e(31),[e(39),e(33),e(36),e(35),e(38),e(34),e(37)]);t.exports=n},{}],4:[function(e,t,r){"use strict";function n(e){function t(e,t){return _[e]=O.IN_PROGRESS,new u(function(r){t.instance.retrieve().then(function(){_[e]=O.COMPLETE,r()}).catch(function(t){_[e]=O.COMPLETE,r()})})}function r(){for(var e=[],r=u.defer(),n=Object.keys(m);n.length;){var i=c.randomSplice(n),o=m[i];if(o.enabled)try{e.push(t(i,o))}catch(e){}}return u.all(e).then(function(){r.resolve()}),r}function n(){for(var e in _)_.hasOwnProperty(e)&&_[e]!==O.COMPLETE&&i.emit("hs_identity_timeout",{statsId:m[e].instance.getStatsId()})}function p(){var e={};for(var t in m)if(m.hasOwnProperty(t)){var r=m[t];if(r.enabled){var n=r.instance.getResults();n&&(e[t]={data:n})}}return e}function d(){b===O.NOT_STARTED&&(T=r(),b=O.IN_PROGRESS,T.promise.then(function(){n(),b=O.COMPLETE}),0===w?T.resolve():S||(S=o.createTimer(w,!1,function(){T.resolve()})))}function y(){return b===O.NOT_STARTED?u.resolve(null):(b!==O.COMPLETE&&S&&o.startTimer(S),T.promise.then(function(){return p()}))}function h(e,t){return y().then(function(r){if(r&&!c.isEmpty(r))for(var n=0;n<t.length;n++)t[n].identityData=r;return v._executeNext(e,t)})}function g(){var e={};for(var t in m)if(m.hasOwnProperty(t)){var r=m[t];if(r.enabled){var n=r.instance.getResults();_[t]===O.COMPLETE?(e[t]=n?{data:n}:{data:{}},e[t].responsePending=!1):e[t]={data:{},responsePending:!0}}}return e}var v,m,b,_,w,S,T,O={NOT_STARTED:0,IN_PROGRESS:1,COMPLETE:2};return function(){i=SpaceCamp.services.EventsService,o=SpaceCamp.services.TimerService,v=s(),b=O.NOT_STARTED,_={},m=e.partners,w=e.timeout,i.emit("hs_define_identity_timeout",{timeout:w});for(var t=Object.keys(m),r=t.length-1;r>=0;r--){var n=c.randomSplice(t),a=m[n];if(a.enabled)try{var u=f[n];if(c.isObject(u)?a.instance=l(u,a.configs):a.instance=u(a.configs),!a.instance){a.enabled=!1;continue}_[n]=O.NOT_STARTED}catch(e){a.enabled=!1}}v._setDirectInterface("IdentityLayer",{retrieve:d,getResult:y,getIdentityResults:g}),v._setExecutor(h)}(),a.derive(v,{retrieve:d,getResult:y})}var i,o,a=e(11),s=e(5),u=e(18),SpaceCamp=e(52),c=e(30),l=e(41),f={AdserverOrgIp:e(40)};t.exports=n},{}],5:[function(e,t,r){"use strict";function n(){function e(e,t){return i.resolve(t)}function t(e,t){__directInterface={},__directInterface[e]=t}function r(e){u=e}function n(){return __directInterface}function o(e){c=e}function a(e,t){return c(e,t)}function s(e,t){return i.resolve().then(function(){return u(e,t)})}var __directInterface,u,c;return function(){__directInterface=null,u=e,c=e}(),{_setDirectInterface:t,_setExecutor:r,_executeNext:a,setNext:o,getDirectInterface:n,execute:s}}var i=e(18);e(31);t.exports=n},{}],6:[function(e,t,r){"use strict";function n(e){function t(e,t){return r._executeNext(e,t).then(function(t){for(var r={slot:{},partner:{}},o=[],a=t.slice();t.length;){var c=u.randomSplice(t);if(c.htSlot){var l=c.htSlot.getName();c.pass||(c.hasOwnProperty("price")&&u.isNumber(c.price)?(r.slot.hasOwnProperty(l)?r.slot[l].price<c.price&&(r.slot[l]=c):r.slot[l]=c,n===s.MediationLevels.PARTNER&&(r.partner[l]=r.partner[l]||{},r.partner[l].hasOwnProperty(c.partnerId)?r.partner[l][c.partnerId].price<c.price&&(r.partner[l][c.partnerId]=c):r.partner[l][c.partnerId]=c)):n===s.MediationLevels.PARTNER&&o.push(c))}}for(var f in r.slot)if(r.slot.hasOwnProperty(f)){var p=r.slot[f];if(i.emit("hs_slot_highest_bid",{sessionId:e,statsId:p.partnerStatsId,htSlotId:p.htSlot.getId(),requestId:p.requestId,xSlotNames:[p.xSlotName]}),n===s.MediationLevels.HT_SLOT)o.push(p);else if(n===s.MediationLevels.PARTNER)for(var d in r.partner[f])r.partner[f].hasOwnProperty(d)&&o.push(r.partner[f][d])}return n===s.MediationLevels.NONE?a:o})}var r,n;return function(){i=SpaceCamp.services.EventsService,r=a(),r._setExecutor(t),n=s.MediationLevels[e.mediationLevel]}(),o.derive(r,{})}var i,o=e(11),a=e(5),s=e(14),u=e(30),SpaceCamp=(e(31),e(52));t.exports=n},{}],7:[function(e,t,r){"use strict";function n(e){function t(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r].priority;c.isInteger(n)||(n=s.DEFAULT_PARTNER_PRIORITY),t[n]=t[n]||[],t[n].push(r)}var i=[];return t.forEach(function(e){c.shuffle(e),e.forEach(function(e){i.push(e)})}),i}function r(e,t,r,n,i){if(i&&r.getPrefetchDisabled())return[];var o=n.slice(),a=[],s=r.retrieve(e,o),l=s.map(function(e){var t=u.defer();return e.then(function(e){t.resolve(e)}).catch(function(e){t.resolve([])}),t});return c.appendToArray(a,l),a}function n(e,n,i){for(var o={defers:[],promises:[]},a=t(y),s=0;s<a.length;s++){var u=a[s],c=y[u];if(c.enabled)try{for(var l=r(e,u,c.instance,n,i),f=0;f<l.length;f++)o.defers.push(l[f]),o.promises.push(l[f].promise)}catch(e){}}return o}function f(e){for(var t in e)if(e.hasOwnProperty(t)&&h.hasOwnProperty(t))for(var r=h[t],n=0;n<r.length;n++){var i=r[n];y.hasOwnProperty(i)&&y[i].instance.setFirstPartyData(e[t])}}function p(e,t){var r=n(e,t);return i.addTimerCallback(e,function(){for(var e=0;e<r.defers.length;e++)r.defers[e].resolve([])}),u.all(r.promises).then(function(t){return i.clearTimer(e),t?c.mergeArrays.apply(null,t):[]})}var d,y,h={rubicon:["RubiconHtb","RubiconExtHtb"]};return function(){i=SpaceCamp.services.TimerService,d=a(),y=e.partners;for(var r={},n=t(y),o=0;o<n.length;o++){var s=n[o],u=y[s];if(u.enabled)try{if(u.instance=l[s](u.configs,s),!u.instance){u.enabled=!1;continue}u.instance.getDirectInterface()&&(r=c.mergeObjects(r,u.instance.getDirectInterface()))}catch(e){u.enabled=!1}}var h={Partners:r,setFirstPartyData:f};d._setDirectInterface("PartnersLayer",h),d._setExecutor(p)}(),o.derive(d,{})}var i,o=e(11),a=e(5),s=e(14),u=e(18),SpaceCamp=e(52),c=e(30),l=(e(31),{DynamicPartnerLoader:e(42)});t.exports=n},{}],8:[function(e,t,r){"use strict";function n(e){function t(t){return e.roundingType===n.RoundingTypes.FLOOR?Math.floor(t):t}function r(r){var s=0,u=1,c=r.toString(),l=c.indexOf(".");if(l>-1&&(s=c.length-l-1,c=c.slice(0,l)+c.slice(l+1)),s>=o)s-=o;else{var f=o-s;s=0,c=i.padEnd(c,c.length+f,"0")}c.length>9&&(s-=c.length-9,c=c.slice(0,9)),u=Math.pow(10,s),c=Number(c);var p=e.buckets.length;if(c<e.floor*u)c=0;else if(c>=e.buckets[p-1].max*u)c=e.buckets[p-1].max*u;else{for(var d,y=e.floor,h=0;h<p&&(d=e.buckets[h],!(c<=d.max*u));h++)y=d.max;e.roundingType!==n.RoundingTypes.NONE&&(c-=y*u,c/=d.step*u,c=t(c),c*=d.step*u,c+=y*u)}c=c.toString(),s+=a;var g=c.length-s;g<1&&(c=i.padStart(c,c.length+(1-g),"0"),g=1);var v=c.slice(0,g);return 0!==e.outputPrecision&&(v=v+"."+c.slice(g),e.outputPrecision>0&&(v=s<e.outputPrecision?i.padEnd(v,g+e.outputPrecision+1,"0"):v.slice(0,g+e.outputPrecision+1))),v}var o,a,s={floor:0,buckets:[{max:1/0,step:1}]};return function(){o=Math.round(Math.log(e.bidUnitInCents)*Math.LOG10E),a=Math.round(Math.log(e.outputCentsDivisor)*Math.LOG10E),e.roundingType=n.RoundingTypes[e.roundingType];for(var t=["floor","buckets"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)||(e[i]=s[i])}}(),{apply:r}}var i=e(30);e(31);n.RoundingTypes={NONE:0,FLOOR:1},t.exports=n},{}],9:[function(e,t,r){"use strict";e(31);t.exports=function(){function e(e,t){return e=e||"http:",t=t||"https:","https:"===document.location.protocol?t:e}function t(){return("CSS1Compat"===m.document.compatMode?m.document.documentElement:m.document.body).clientWidth}function r(){return("CSS1Compat"===m.document.compatMode?m.document.documentElement:m.document.body).clientHeight}function n(){return m.screen.width}function i(){return m.screen.height}function o(){return document.referrer}function a(){return m.location.hostname}function s(){return navigator.userAgent}function u(){return navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage}function c(){return m.location.pathname}function l(){try{return window.top===window.self}catch(e){return!1}}function f(){return l()?location.href:document.referrer||location.href}function p(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}function d(e,t,r,n){try{for(var i,o=window,a=0;;)if(!(r&&a<r)){if(n&&a>n)break;if(e&&(i=e(o)))return i;var s;try{s=o.frameElement}catch(e){s=null}if(null===s){if(t&&(i=t(o)))return i;break}o=o.parent,a++}}catch(e){}return null}function y(e){return d(function(t){return t.hasOwnProperty(e)?t[e]:null})}function h(e,t){var r=t||m,n=r.document.createElement("iframe");return e&&(n.src=e),n.width=0,n.height=0,n.scrolling="no",n.marginWidth=0,n.marginHeight=0,n.frameBorder=0,n.setAttribute("style","border: 0px; vertical-align: bottom; visibility: hidden; display: none;"),r.document.body.appendChild(n),n}function g(e){var t=e+"=",r=m.document.cookie.split(";");for(var n in r)if(r.hasOwnProperty(n)){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}function v(){var e=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=!0)}return e}var m;return function(){m=d(null,function(e){return e})}(),{topWindow:m,getProtocol:e,isLocalStorageSupported:p,getViewportWidth:t,getViewportHeight:r,isTopFrame:l,getScreenWidth:n,getScreenHeight:i,getReferrer:o,getPageUrl:f,getHostname:a,getUserAgent:s,getLanguage:u,getPathname:c,getNearestEntity:y,traverseContextTree:d,createHiddenIFrame:h,readCookie:g,isFlashSupported:v}}()},{}],10:[function(e,t,r){"use strict";var n=e(9),i=e(30),o=e(29);t.exports=function(){function e(e){if(!a)return!1;try{localStorage.removeItem(s+e)}catch(e){return!1}return!0}function t(t){if(!a)return null;var r;try{r=JSON.parse(localStorage.getItem(s+t))}catch(e){return null}return null===r?null:!r.e||r.e<o.now()?(e(t),null):i.isObject(r.d)?r.d:null}function r(e,t,r){if(!a)return!1;r>u&&(r=u);var n=o.now(),i={t:n,d:t,e:n+r};try{localStorage.setItem(s+e,JSON.stringify(i))}catch(e){return!1}return!0}var a,s="IXWRAPPER",u=6048e5;return function(){a=n.isLocalStorageSupported()}(),{deleteData:e,getData:t,setData:r}}()},{}],11:[function(e,t,r){"use strict";e(31);t.exports=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&"_"===t[0]&&"__"!==t.slice(0,2)&&delete e[t];return e}function t(t,r){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return e(i)}return{derive:t}}()},{}],12:[function(e,t,r){"use strict";function n(e){function t(e){if(i.isFunction(e))try{e()}catch(e){}}return function(){if(i.isArray(e))for(var t=0;t<e.length;t++)try{e[t]()}catch(e){}}(),{push:t}}var i=e(30);t.exports=n},{}],13:[function(e,t,r){"use strict";var n=e(14),i=e(19),o={PostGptLayer:function(e){var t=i.validate({type:"object",strict:!0,properties:{lineItemDisablerTargeting:{type:"object",properties:{key:{type:"string",minLength:1},value:{type:"array",minLength:1,items:{type:"string"}}}},desktopGlobalTimeout:{type:"integer",gte:0},mobileGlobalTimeout:{type:"integer",gte:0},slotMapping:{type:"object"}}},e);return t.valid?null:t.format()},GptLayer:function(e){var t=i.validate({type:"object",properties:{desktopGlobalTimeout:{type:"integer",gte:0},mobileGlobalTimeout:{type:"integer",gte:0},enableSingleRequest:{type:"boolean",optional:!0},disableInitialLoad:{type:"boolean",optional:!0},slotMapping:{optional:!0,type:"object",properties:{selectors:{type:"array",items:{type:["array","string"],minLength:1,items:{type:"string",minLength:1}}},filters:{type:"array",items:{type:"string",minLength:1}}}}}},e);return t.valid?null:t.format()},IdentityLayer:function(e,t){var r=i.validate({type:"object",strict:!0,properties:{timeout:{type:"integer",gte:0,optional:!0},partners:{type:"object",properties:{"*":{type:"object",properties:{configs:{type:"object"},enabled:{type:"boolean"},enableSetTargeting:{type:"boolean",optional:!0}}}}}}},e);if(!r.valid)return r.format();for(var n in e.partners)if(e.partners.hasOwnProperty(n)&&-1===t.indexOf(n))return'Identity partner ID "'+n+'" is unrecognized';return null},PartnersLayer:function(e,t){var r=i.validate({type:"object",strict:!0,properties:{prefetchOnLoad:{optional:!0,type:"object",strict:!0,properties:{enabled:{type:"boolean"},configs:{optional:!0,type:"object",strict:!0,properties:{dynamic:{optional:!0,type:"object",strict:!0,properties:{var:{optional:!0,type:"string",minLength:1},slotMapping:{type:"object",strict:!0,properties:{style:{type:"string",eq:["ALL","SINGLE"]},selectors:{type:"array",minLength:1,items:{type:["array","string"],minLength:1,items:{type:"string",minLength:1}}},filters:{type:"array",items:{type:"string",minLength:1}}}}}},pageType:{optional:!0,type:"object",strict:!0,properties:{var:{optional:!0,type:"string",minLength:1},mapping:{type:"object",strict:!0,properties:{"*":{type:"array",items:{type:"string",minLength:1}}}}}},fixed:{optional:!0,type:"object",strict:!0,properties:{htSlotNames:{type:"array",items:{type:"string",minLength:1}}}}}}}},partners:{type:"object",properties:{"*":{type:"object",properties:{configs:{type:"object"},enabled:{type:"boolean"}}}}}}},e);if(!r.valid)return r.format();for(var n in e.partners)if(e.partners.hasOwnProperty(n)&&-1===t.indexOf(n))return'Partner ID "'+n+'" is unrecognized';return null},DirectBiddingLayer:function(e){var t=i.validate({type:"object",strict:!0,properties:{desktopGlobalTimeout:{type:"integer",gte:0},mobileGlobalTimeout:{type:"integer",gte:0}}},e);return t.valid?null:t.format()},MediationLayer:function(e){var t=i.validate({type:"object",strict:!0,properties:{mediationLevel:{type:"string",eq:["NONE","HT_SLOT","PARTNER"]}}},e);return t.valid?null:t.format()},PreGptLayer:function(){return null},StorageLayer:function(){return null},ModuleLoader:function(e,t,r){var n=i.validate({type:"object",properties:{htSlots:{type:"object",optional:!0},Services:{type:"object",properties:{"*":{type:"object"}}},Layers:{type:"array",minLength:1,items:{type:"object",properties:{layerId:{type:"string",minLength:1},configs:{type:"object"}}}}}},e);if(!n.valid)return n.format();for(var o in e.Services)if(-1===t.indexOf(o))return"members of `configs.Services` must be one of the predefined values in `ServiceConstructors`";for(var a=0;a<e.Layers.length;a++)if(-1===r.indexOf(e.Layers[a].layerId))return"`configs.Layers["+a+"].layerId` must be one of the predefined values in `LayerConstructors`";return null},HeaderTagSlot:function(e,t){var r=i.validate({type:"object",strict:!0,properties:{id:{type:"string"},divId:{optional:!0,type:"string"},adUnitPath:{optional:!0,type:"string"},sizeMapping:{optional:!0,type:"object",properties:{"*":{type:"array",minLength:1,items:{type:"array",exactLength:2,items:{type:"integer",gte:0}}}}},targeting:{optional:!0,type:"array",items:{type:"object",properties:{"*":{type:"array",minLength:1,items:{type:"string",minLength:1}}}}},deviceType:{optional:!0,type:"string",minLength:1},position:{type:"string",eq:["atf","btf"],optional:!0}}},e);if(!r.valid)return"Invalid config: "+r.format();if(r=i.validate({type:"string",minLength:1},t),!r.valid)return"Invalid ID: "+r.format();if(!e.hasOwnProperty("sizeMapping"))return'`config` must have property "sizeMapping"';var n=/^(\d+)x(\d+)$/,o=0;for(var a in e.sizeMapping)if(e.sizeMapping.hasOwnProperty(a)){if(!1===n.test(a))return"Keys of `config.sizeMapping` must be of form `widthxheight`";o++}return 0===o?"`config.sizeMapping` must not be empty":null},PartnerProfile:function(e,t,r){var o=i.validate({type:"object",strict:!0,properties:{profile:{type:"object",strict:!0,properties:{partnerId:{type:"string",minLength:1},namespace:{type:"string",minLength:1},statsId:{type:"string",minLength:1},version:{type:"string",minLength:1,optional:!0},targetingType:{type:"string",eq:["page","slot"]},bidUnitInCents:{type:"number",gt:0,optional:!0,exec:function(e,t){(t>1&&t%10!=0||t<1&&!/^0\.0*1$/.test(t.toString()))&&this.report("must be a power of 10")}},enabledAnalytics:{type:"object",properties:{"*":{type:"boolean"}}},features:{type:"object",properties:{"*":{type:"object",strict:!0,properties:{enabled:{type:"boolean"},value:{type:"any"}}},prefetchDisabled:{optional:!0,type:"object",strict:!0,properties:{enabled:{type:"boolean"}}}}},targetingKeys:{type:"object",strict:!0,properties:{id:{optional:!0,type:"string",minLength:1},om:{optional:!0,type:"string",minLength:1},pm:{optional:!0,type:"string",minLength:1},pmid:{optional:!0,type:"string",minLength:1},ybot_ad:{optional:!0,type:"string",minLength:1},ybot_size:{optional:!0,type:"string",minLength:1},ybot_cpm:{optional:!0,type:"string",minLength:1},ybot_slot:{optional:!0,type:"string",minLength:1},retargeter:{optional:!0,type:"string",minLength:1}}},lineItemType:{type:"integer",exec:function(e,t){var r=!1;for(var i in n.LineItemTypes)if(n.LineItemTypes.hasOwnProperty(i)&&n.LineItemTypes[i]===t){r=!0;break}r||this.report("must be one of the predefined values in `Constants.LineItemTypes`")}},callbackType:{type:"integer"},architecture:{type:"integer"},parseAfterTimeout:{type:"boolean",optional:!0},requestType:{type:"integer"}}},requiredResources:{type:["array","null"],items:{type:"string",minLength:1}},fns:{type:"object",exec:function(e,t){for(var r in t)t.hasOwnProperty(r)&&"function"!=typeof t[r]&&this.report(r+" must be a function, is "+typeof t[r]);t.hasOwnProperty("retriever")?(t.hasOwnProperty("parseResponse")||t.hasOwnProperty("generateRequestObj")||t.hasOwnProperty("adResponseCallback"))&&this.report("must either have retriever or the other three."):t.hasOwnProperty("parseResponse")||t.hasOwnProperty("generateRequestObj")||this.report("must either have retriever or the other three.")}}}},{profile:e,requiredResources:t,fns:r});return o.valid?null:o.format()},IdentityPartnerProfile:function(e){var t=i.validate({type:"object",strict:!0,properties:{partnerId:{type:"string",minLength:1},statsId:{type:"string",minLength:1},version:{type:"string",pattern:/^\d+\.\d+\.\d+$/},source:{type:"string",minLength:1},cacheExpiry:{type:"object",strict:!0,properties:{match:{type:"integer",gt:0},pass:{type:"integer",gt:0},error:{type:"integer",gt:0}}},targetingKeys:{type:"object",strict:!0,properties:{exchangeBidding:{type:"string",minLength:1}}}}},e);return t.valid?null:t.format()},IdentityPartnerModule:function(e){var t=i.validate({type:"object",strict:!0,properties:{type:{type:"string",eq:"identity"},api:{type:"string",minLength:1},main:{exec:function(e,t){"function"!=typeof t&&this.report("must be a function")}},profile:{type:"object",exec:function(e,t){var r=o.IdentityPartnerProfile(t);r&&this.report(r)}}}},e);return t.valid?null:t.format()},partnerBaseConfig:function(e){var t=i.validate({type:"object",properties:{timeout:{optional:!0,type:"integer",gte:0},xSlots:{type:"object",properties:{"*":{type:"object"}}},mapping:{type:"object",properties:{"*":{type:"array",items:{type:"string",minLength:1,exec:function(e,t){this.origin.xSlots&&!this.origin.xSlots.hasOwnProperty(t)&&this.report("`configs.mapping` must map htSlotsNames to partner slots defined in `configs.xSlots`")}}}}},targetingKeyOverride:{optional:!0,type:"object",properties:{"*":{type:"string",minLength:1}}},lineItemType:{type:"string",optional:!0,exec:function(e,t){t&&!n.LineItemTypes.hasOwnProperty(t)&&this.report(t+" must be one of the predefined values in `Constants.LineItemTypes`")}},bidTransformer:{type:"object",optional:!0,exec:function(e,t){if(t){var r=o.bidTransformerConfig(t);null!==r&&this.report(r)}}}}},e);return t.valid?null:t.format()},rtiPartnerBaseConfig:function(){return null},bidTransformerConfig:function(e){var t=i.validate({type:"object",optional:!0,strict:!0,properties:{bidUnitInCents:{type:"number",gt:0,optional:!0,exec:function(e,t){(t>1&&t%10!=0||t<1&&!/^0\.0*1$/.test(t.toString()))&&this.report("must be a power of 10")}},outputCentsDivisor:{type:"number",gt:0,optional:!0,exec:function(e,t){(t>1&&t%10!=0||t<1&&!/^0\.0*1$/.test(t.toString()))&&this.report("must be a power of 10")}},outputPrecision:{type:"integer",gte:-1,optional:!0},roundingType:{type:"string",eq:["NONE","FLOOR"],optional:!0},floor:{type:"integer",gte:0,optional:!0},buckets:{type:"array",minLenth:1,items:{type:"object",properties:{max:{type:["integer","string"],gt:0,exec:function(e,t){"string"==typeof t&&"infinity"!==t&&this.report('The only acceptable string for bucket max is "infinity". Please check your config.')}},step:{type:"integer",gt:0}}},optional:!0}},exec:function(e,t){if(t){if(t.hasOwnProperty("floor")&&!t.hasOwnProperty("buckets")||!t.hasOwnProperty("floor")&&t.hasOwnProperty("buckets"))return void this.report("`configs.floor` and `configs.buckets` must be configured together");if(t.hasOwnProperty("floor")&&t.hasOwnProperty("buckets"))for(var r=t.floor,n=0;n<t.buckets.length;n++){var i=t.buckets[n].max,o=t.buckets[n].step;if("infinity"===i&&(i=1/0),i<=r)return void this.report("`configs.buckets["+n+"].max` is not in ascending order");if(i!==1/0&&(i-r)%o!=0)return void this.report("`configs.buckets["+n+"].step` must evenly divide its range");r=i}}}},e);return t.valid?null:t.format()},EventsService:function(){return null},KeyValueService:function(){return null},GptService:function(){return null},HeaderStatsService:function(e){var t=i.validate({type:"object",properties:{siteId:{type:"string",minLength:1},configId:{type:"string",minLength:1},options:{type:"object",properties:{auctionCycle:{type:"boolean"}}}}},e);return t.valid?null:t.format()},RenderService:function(e){var t=i.validate({type:"object",properties:{sizeRetargeting:{optional:!0,type:"object",properties:{"*":{type:"array",exactLength:2,items:{type:"integer"}}}}}},e);if(!t.valid)return t.format();if(e.sizeRetargeting)for(var r in e.sizeRetargeting)if(e.sizeRetargeting.hasOwnProperty(r)&&!/^[0-9]+x[0-9]+$/.test(r))return"Invalid sizeRetargeting key `"+r+"`, must be format `widthxheight`";return null},TimerService:function(){return null},ComplianceService:function(e){var t=i.validate({type:"object",strict:!0,properties:{gdprAppliesDefault:{type:"boolean"},timeout:{type:"integer",gte:0},customFn:{type:"string",optional:!0}}},e);return t.valid?null:t.format()},AdaptiveTimeoutService:function(e){var t=i.validate({type:"object"},e);return t.valid?null:t.format()},HtSlotMapper:function(e,t){var r=i.validate({type:"object",properties:{selectors:{type:"array",minLength:1,items:{type:["array","string"],minLength:1,items:{type:"string",minLength:1}}},filters:{type:"array",items:{type:"string",minLength:1}}}},e);if(!r.valid)return r.format();for(var n=0;n<e.selectors.length;n++){var o=e.selectors[n];if("string"==typeof o){if(-1===t.indexOf(o))return"Unrecognized selector `"+o+"`"}else for(var a=0;a<o.length;a++){var s=o[a];if(-1===t.indexOf(s))return"Unrecognized selector `"+s+"`"}}for(var u=0;u<e.filters.length;u++){var c=e.filters[u];if(-1===t.indexOf(c))return"Unrecognized filter `"+c+"`"}return null},DeviceTypeChecker:function(e){var t=i.validate({type:"object",strict:!0,properties:{method:{type:"string",eq:Object.keys(n.DeviceTypeMethods)},configs:{optional:!0,type:"object"}}},e);if(!t.valid)return t.format();if("REFERENCE"===e.method&&(t=i.validate({type:"object",strict:!0,properties:{reference:{type:"string",minLength:1}}},e.configs)),"SIZE_MAPPING"===e.method&&(t=i.validate({type:"object",strict:!0,properties:{sizeMapping:{type:"object",properties:{"*":{type:"string",minLength:1}}}}},e.configs),e.configs.hasOwnProperty("sizeMapping"))){var r=/^(\d+)x(\d+)$/,o=0;for(var a in e.configs.sizeMapping)if(e.configs.sizeMapping.hasOwnProperty(a)){if(!1===r.test(a))return"Keys of `configs.sizeMapping` must be of form `widthxheight`";o++}if(0===o)return"`configs.sizeMapping` must not be empty"}return t.valid?null:t.format()}};t.exports=o},{}],14:[function(e,t,r){"use strict";var n={DEFAULT_UID_LENGTH:8,MIN_BANNER_DIMENSION:1,MIN_BID_FLOOR:0,MIN_SITE_ID:0,DEFAULT_UID_CHARSET:"ALPHANUM",SESSION_ID_LENGTH:8,PUBKIT_AD_ID_LENGTH:16,RENDER_SERVICE_EXPIRY_SWEEP_TIMER:3e4,DEFAULT_PARTNER_PRIORITY:1,LineItemTypes:{ID_AND_SIZE:1,ID_AND_PRICE:2,CUSTOM:3},DeviceTypeMethods:{USER_AGENT:1,REFERENCE:2,SIZE_MAPPING:3},RequestArchitectures:{MRA:1,SRA:2},InitialLoadStates:{DISABLED:1,ENABLED:2},MediationLevels:{NONE:1,HT_SLOT:2,PARTNER:3}};t.exports=n},{}],15:[function(e,t,r){"use strict";function n(e){function t(){return s.mobile()?n.DeviceTypes.MOBILE:(s.tablet(),n.DeviceTypes.DESKTOP)}function r(){var t;try{t=eval(e.configs.reference)}catch(e){throw a("INTERNAL_ERROR","DeviceTypeChecker: could not eval() `reference`.")}if(!o.isFunction(t)){if(o.isString(t))return t;throw a("INVALID_TYPE","DeviceTypeChecker: `reference` must refer to a function or a string")}try{return t()}catch(e){throw a("INTERNAL_ERROR","DeviceTypeChecker: could not execute `reference` function.")}}function u(){switch(c){case i.DeviceTypeMethods.USER_AGENT:return t();case i.DeviceTypeMethods.REFERENCE:return r();default:return t()}}var c;return function(){c=i.DeviceTypeMethods[e.method]||i.DeviceTypeMethods.USER_AGENT}(),{getDeviceType:u}}var i=e(14),o=e(30),a=e(31),s=e(17);n.isValidDeviceType=function(e){for(var t in n.DeviceTypes)if(n.DeviceTypes.hasOwnProperty(t)&&"TABLET"!==t&&e===n.DeviceTypes[t])return!0;return!1},n.DeviceTypes={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"},t.exports=n},{}],16:[function(e,t,r){(function(e,n){!function(e,n){"object"==typeof r&&void 0!==t?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n(e.async=e.async||{})}(this,function(r){"use strict";function i(e){return e}function o(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function a(e,t,r){return t=rt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=rt(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(s),o(e,this,u)}}function s(e){return function(){return e}}function u(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function c(e){var t=u(e)?st.call(e):"";return t==nt||t==it||t==ot}function l(e){return!!pt&&pt in e}function f(e){if(null!=e){try{return yt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function p(e){return!(!u(e)||l(e))&&(c(e)?wt:gt).test(f(e))}function d(e,t){return null==e?void 0:e[t]}function y(e,t){var r=d(e,t);return p(r)?r:void 0}function h(e,t){return Lt(a(e,t,i),e+"")}function g(e){return h(function(t,r){var n=xt(function(r,n){var i=this;return e(t,function(e,t){e.apply(i,r.concat([t]))},n)});return r.length?n.apply(this,r):n})}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Pt}function m(e){return null!=e&&v(e.length)&&!c(e)}function b(){}function _(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function w(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function S(e){return null!=e&&"object"==typeof e}function T(e){return S(e)&&jt.call(e)==At}function O(){return!1}function E(e,t){return!!(t=null==t?Kt:t)&&("number"==typeof e||$t.test(e))&&e>-1&&e%1==0&&e<t}function I(e){return S(e)&&v(e.length)&&!!Wt[Yt.call(e)]}function L(e,t){var r=Mt(e),n=!r&&Ct(e),i=!r&&!n&&Vt(e),o=!r&&!n&&!i&&ir(e),a=r||n||i||o,s=a?w(e.length,String):[],u=s.length;for(var c in e)!t&&!ar.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||E(c,u))||s.push(c);return s}function x(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||sr)}function P(e){if(!x(e))return ur(e);var t=[];for(var r in Object(e))lr.call(e,r)&&"constructor"!=r&&t.push(r);return t}function D(e){return m(e)?L(e):P(e)}function F(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function A(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function R(e){var t=D(e),r=-1,n=t.length;return function(){var i=t[++r];return r<n?{value:e[i],key:i}:null}}function j(e){if(m(e))return F(e);var t=Ft(e);return t?A(t):R(e)}function N(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function k(e){return function(t,r,n){function i(e,t){if(u-=1,e)s=!0,n(e);else{if(t===fr||s&&u<=0)return s=!0,n(null);o()}}function o(){for(;u<e&&!s;){var t=a();if(null===t)return s=!0,void(u<=0&&n(null));u+=1,r(t.value,t.key,N(i))}}if(n=_(n||b),e<=0||!t)return n(null);var a=j(t),s=!1,u=0;o()}}function q(e,t,r,n){k(t)(e,r,n)}function C(e,t){return function(r,n,i){return e(r,t,n,i)}}function M(e,t,r){function n(e){e?r(e):++o===a&&r(null)}r=_(r||b);var i=0,o=0,a=e.length;for(0===a&&r(null);i<a;i++)t(e[i],i,N(n))}function z(e){return function(t,r,n){return e(dr,t,r,n)}}function U(e,t,r,n){n=_(n||b),t=t||[];var i=[],o=0;e(t,function(e,t,n){var a=o++;r(e,function(e,t){i[a]=t,n(e)})},function(e){n(e,i)})}function G(e){return function(t,r,n,i){return e(k(r),t,n,i)}}function H(e){return xt(function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}u(n)&&"function"==typeof n.then?n.then(function(e){r(null,e)},function(e){r(e.message?e:new Error(e))}):r(null,n)})}function B(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););return e}function V(e,t){return e&&_r(e,t,D)}function K(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function $(e){return e!==e}function W(e,t,r){
for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function X(e,t,r){return t===t?W(e,t,r):K(e,$,r)}function J(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Y(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Q(e){return"symbol"==typeof e||S(e)&&Er.call(e)==Tr}function Z(e){if("string"==typeof e)return e;if(Mt(e))return J(e,Z)+"";if(Q(e))return xr?xr.call(e):"";var t=e+"";return"0"==t&&1/e==-Ir?"-0":t}function ee(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function te(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:ee(e,t,r)}function re(e,t){for(var r=e.length;r--&&X(t,e[r],0)>-1;);return r}function ne(e,t){for(var r=-1,n=e.length;++r<n&&X(t,e[r],0)>-1;);return r}function ie(e){return e.split("")}function oe(e){return Pr.test(e)}function ae(e){return e.match(Cr)||[]}function se(e){return oe(e)?ae(e):ie(e)}function ue(e){return null==e?"":Z(e)}function ce(e,t,r){if((e=ue(e))&&(r||void 0===t))return e.replace(Mr,"");if(!e||!(t=Z(t)))return e;var n=se(e),i=se(t);return te(n,ne(n,i),re(n,i)+1).join("")}function le(e){return e=e.toString().replace(Hr,""),e=e.match(zr)[2].replace(" ",""),e=e?e.split(Ur):[],e=e.map(function(e){return ce(e.replace(Gr,""))})}function fe(e,t){var r={};V(e,function(e,t){function n(t,r){var n=J(i,function(e){return t[e]});n.push(r),e.apply(null,n)}var i;if(Mt(e))i=Y(e),e=i.pop(),r[t]=i.concat(i.length>0?n:e);else if(1===e.length)r[t]=e;else{if(i=le(e),0===e.length&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");i.pop(),r[t]=i.concat(n)}}),wr(r,t)}function pe(e){setTimeout(e,0)}function de(e){return h(function(t,r){e(function(){t.apply(null,r)})})}function ye(){this.head=this.tail=null,this.length=0}function he(e,t){e.length=1,e.head=e.tail=t}function ge(e,t,r){function n(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,Mt(e)||(e=[e]),0===e.length&&s.idle())return Kr(function(){s.drain()});for(var n=0,i=e.length;n<i;n++){var o={data:e[n],callback:r||b};t?s._tasks.unshift(o):s._tasks.push(o)}Kr(s.process)}function i(e){return h(function(t){o-=1;for(var r=0,n=e.length;r<n;r++){var i=e[r],u=X(a,i,0);u>=0&&a.splice(u),i.callback.apply(i,t),null!=t[0]&&s.error(t[0],i.data)}o<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()})}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=0,a=[],s={_tasks:new ye,concurrency:t,payload:r,saturated:b,unsaturated:b,buffer:t/4,empty:b,drain:b,error:b,started:!1,paused:!1,push:function(e,t){n(e,!1,t)},kill:function(){s.drain=b,s._tasks.empty()},unshift:function(e,t){n(e,!0,t)},process:function(){for(;!s.paused&&o<s.concurrency&&s._tasks.length;){var t=[],r=[],n=s._tasks.length;s.payload&&(n=Math.min(n,s.payload));for(var u=0;u<n;u++){var c=s._tasks.shift();t.push(c),r.push(c.data)}0===s._tasks.length&&s.empty(),o+=1,a.push(t[0]),o===s.concurrency&&s.saturated();var l=N(i(t));e(r,l)}},length:function(){return s._tasks.length},running:function(){return o},workersList:function(){return a},idle:function(){return s._tasks.length+o===0},pause:function(){s.paused=!0},resume:function(){if(!1!==s.paused){s.paused=!1;for(var e=Math.min(s.concurrency,s._tasks.length),t=1;t<=e;t++)Kr(s.process)}}};return s}function ve(e,t){return ge(e,1,t)}function me(e,t,r,n){n=_(n||b),Wr(e,function(e,n,i){r(t,e,function(e,r){t=r,i(e)})},function(e){n(e,t)})}function be(e,t,r,n){var i=[];e(t,function(e,t,n){r(e,function(e,t){i=i.concat(t||[]),n(e)})},function(e){n(e,i)})}function _e(e,t,r){return function(n,i,o,a){function s(){a&&a(null,r(!1))}function u(e,n,i){if(!a)return i();o(e,function(n,s){a&&(n||t(s))?(n?a(n):a(n,r(!0,e)),a=o=!1,i(n,fr)):i()})}arguments.length>3?(a=a||b,e(n,i,u,s)):(a=o,a=a||b,o=i,e(n,u,s))}}function we(e,t){return t}function Se(e){return h(function(t,r){t.apply(null,r.concat([h(function(t,r){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&B(r,function(t){console[e](t)}))})]))})}function Te(e,t,r){function n(t,n){return t?r(t):n?void e(i):r(null)}r=N(r||b);var i=h(function(e,i){if(e)return r(e);i.push(n),t.apply(this,i)});n(null,!0)}function Oe(e,t,r){r=N(r||b);var n=h(function(i,o){return i?r(i):t.apply(this,o)?e(n):void r.apply(null,[null].concat(o))});e(n)}function Ee(e,t,r){Oe(e,function(){return!t.apply(this,arguments)},r)}function Ie(e,t,r){function n(t){if(t)return r(t);e(i)}function i(e,i){return e?r(e):i?void t(n):r(null)}r=N(r||b),e(i)}function Le(e){return function(t,r,n){return e(t,n)}}function xe(e,t,r){dr(e,Le(t),r)}function Pe(e,t,r,n){k(t)(e,Le(r),n)}function De(e){return xt(function(t,r){var n=!0;t.push(function(){var e=arguments;n?Kr(function(){r.apply(null,e)}):r.apply(null,e)}),e.apply(this,t),n=!1})}function Fe(e){return!e}function Ae(e){return function(t){return null==t?void 0:t[e]}}function Re(e,t,r,n){n=_(n||b);var i=[];e(t,function(e,t,n){r(e,function(r,o){r?n(r):(o&&i.push({index:t,value:e}),n())})},function(e){e?n(e):n(null,J(i.sort(function(e,t){return e.index-t.index}),Ae("value")))})}function je(e,t){function r(e){if(e)return n(e);i(r)}var n=N(t||b),i=De(e);r()}function Ne(e,t,r,n){n=_(n||b);var i={};q(e,t,function(e,t,n){r(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){n(e,i)})}function ke(e,t){return t in e}function qe(e,t){var r=Object.create(null),n=Object.create(null);t=t||i;var o=xt(function(i,o){var a=t.apply(null,i);ke(r,a)?Kr(function(){o.apply(null,r[a])}):ke(n,a)?n[a].push(o):(n[a]=[o],e.apply(null,i.concat([h(function(e){r[a]=e;var t=n[a];delete n[a];for(var i=0,o=t.length;i<o;i++)t[i].apply(null,e)})])))});return o.memo=r,o.unmemoized=e,o}function Ce(e,t,r){r=r||b;var n=m(t)?[]:{};e(t,function(e,t,r){e(h(function(e,i){i.length<=1&&(i=i[0]),n[t]=i,r(e)}))},function(e){r(e,n)})}function Me(e,t){Ce(dr,e,t)}function ze(e,t,r){Ce(k(t),e,r)}function Ue(e,t){if(t=_(t||b),!Mt(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)e[r](t)}function Ge(e,t,r,n){me(mn.call(e).reverse(),t,r,n)}function He(e){return xt(function(t,r){return t.push(h(function(e,t){if(e)r(null,{error:e});else{var n=null;1===t.length?n=t[0]:t.length>1&&(n=t),r(null,{value:n})}})),e.apply(this,t)})}function Be(e,t,r,n){Re(e,t,function(e,t){r(e,function(e,r){e?t(e):t(null,!r)})},n)}function Ve(e){var t;return Mt(e)?t=J(e,He):(t={},V(e,function(e,r){t[r]=He.call(this,e)})),t}function Ke(e,t,r){function n(){t(function(e){e&&u++<a.times&&("function"!=typeof a.errorFilter||a.errorFilter(e))?setTimeout(n,a.intervalFunc(u)):r.apply(null,arguments)})}var i=5,o=0,a={times:i,intervalFunc:s(o)};if(arguments.length<3&&"function"==typeof e?(r=t||b,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||i,e.intervalFunc="function"==typeof t.interval?t.interval:s(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||i}}(a,e),r=r||b),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var u=1;n()}function $e(e,t){Ce(Wr,e,t)}function We(e,t,r){function n(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}yr(e,function(e,r){t(e,function(t,n){if(t)return r(t);r(null,{value:e,criteria:n})})},function(e,t){if(e)return r(e);r(null,J(t.sort(n),Ae("value")))})}function Xe(e,t,r){function n(){s||(o.apply(null,arguments),clearTimeout(a))}function i(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,o(n)}var o,a,s=!1;return xt(function(r,s){o=s,a=setTimeout(i,t),e.apply(null,r.concat(n))})}function Je(e,t,r,n){for(var i=-1,o=Ln(In((t-e)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=e,e+=r;return a}function Ye(e,t,r,n){gr(Je(0,e,1),t,r,n)}function Qe(e,t,r,n){3===arguments.length&&(n=r,r=t,t=Mt(e)?[]:{}),n=_(n||b),dr(e,function(e,n,i){r(t,e,n,i)},function(e){n(e,t)})}function Ze(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function et(e,t,r){if(r=N(r||b),!e())return r(null);var n=h(function(i,o){return i?r(i):e()?t(n):void r.apply(null,[null].concat(o))});t(n)}function tt(e,t,r){et(function(){return!e.apply(this,arguments)},t,r)}var rt=Math.max,nt="[object Function]",it="[object GeneratorFunction]",ot="[object Proxy]",at=Object.prototype,st=at.toString,ut="object"==typeof n&&n&&n.Object===Object&&n,ct="object"==typeof self&&self&&self.Object===Object&&self,lt=ut||ct||Function("return this")(),ft=lt["__core-js_shared__"],pt=function(){var e=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),dt=Function.prototype,yt=dt.toString,ht=/[\\^$.*+?()[\]{}|]/g,gt=/^\[object .+?Constructor\]$/,vt=Function.prototype,mt=Object.prototype,bt=vt.toString,_t=mt.hasOwnProperty,wt=RegExp("^"+bt.call(_t).replace(ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=function(){try{var e=y(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Tt=St?function(e,t){return St(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:i,Ot=500,Et=16,It=Date.now,Lt=function(e){var t=0,r=0;return function(){var n=It(),i=Et-(n-r);if(r=n,i>0){if(++t>=Ot)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Tt),xt=function(e){return h(function(t){var r=t.pop();e.call(this,t,r)})},Pt=9007199254740991,Dt="function"==typeof Symbol&&Symbol.iterator,Ft=function(e){return Dt&&e[Dt]&&e[Dt]()},At="[object Arguments]",Rt=Object.prototype,jt=Rt.toString,Nt=Object.prototype,kt=Nt.hasOwnProperty,qt=Nt.propertyIsEnumerable,Ct=T(function(){return arguments}())?T:function(e){return S(e)&&kt.call(e,"callee")&&!qt.call(e,"callee")},Mt=Array.isArray,zt="object"==typeof r&&r&&!r.nodeType&&r,Ut=zt&&"object"==typeof t&&t&&!t.nodeType&&t,Gt=Ut&&Ut.exports===zt,Ht=Gt?lt.Buffer:void 0,Bt=Ht?Ht.isBuffer:void 0,Vt=Bt||O,Kt=9007199254740991,$t=/^(?:0|[1-9]\d*)$/,Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var Xt,Jt=Object.prototype,Yt=Jt.toString,Qt="object"==typeof r&&r&&!r.nodeType&&r,Zt=Qt&&"object"==typeof t&&t&&!t.nodeType&&t,er=Zt&&Zt.exports===Qt,tr=er&&ut.process,rr=function(){try{return tr&&tr.binding("util")}catch(e){}}(),nr=rr&&rr.isTypedArray,ir=nr?function(e){return function(t){return e(t)}}(nr):I,or=Object.prototype,ar=or.hasOwnProperty,sr=Object.prototype,ur=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),cr=Object.prototype,lr=cr.hasOwnProperty,fr={},pr=C(q,1/0),dr=function(e,t,r){(m(e)?M:pr)(e,t,r)},yr=z(U),hr=g(yr),gr=G(U),vr=C(gr,1),mr=g(vr),br=h(function(e,t){return h(function(r){return e.apply(null,t.concat(r))})}),_r=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}(),wr=function(e,t,r){function n(e,t){g.push(function(){s(e,t)})}function i(){if(0===g.length&&0===p)return r(null,f);for(;g.length&&p<t;){g.shift()()}}function o(e,t){var r=y[e];r||(r=y[e]=[]),r.push(t)}function a(e){B(y[e]||[],function(e){e()}),i()}function s(e,t){if(!d){var n=N(h(function(t,n){if(p--,n.length<=1&&(n=n[0]),t){var i={};V(f,function(e,t){i[t]=e}),i[e]=n,d=!0,y=[],r(t,i)}else f[e]=n,a(e)}));p++;var i=t[t.length-1];t.length>1?i(f,n):i(n)}}function u(t){var r=[];return V(e,function(e,n){Mt(e)&&X(e,t,0)>=0&&r.push(n)}),r}"function"==typeof t&&(r=t,t=null),r=_(r||b);var c=D(e),l=c.length;if(!l)return r(null);t||(t=l);var f={},p=0,d=!1,y={},g=[],v=[],m={};V(e,function(t,r){if(!Mt(t))return n(r,[t]),void v.push(r);var i=t.slice(0,t.length-1),a=i.length;if(0===a)return n(r,t),void v.push(r);m[r]=a,B(i,function(s){if(!e[s])throw new Error("async.auto task `"+r+"` has a non-existent dependency in "+i.join(", "));o(s,function(){0===--a&&n(r,t)})})}),function(){for(var e,t=0;v.length;)e=v.pop(),t++,B(u(e),function(e){0==--m[e]&&v.push(e)});if(t!==l)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),i()},Sr=lt.Symbol,Tr="[object Symbol]",Or=Object.prototype,Er=Or.toString,Ir=1/0,Lr=Sr?Sr.prototype:void 0,xr=Lr?Lr.toString:void 0,Pr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Dr="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Fr="\\ud83c[\\udffb-\\udfff]",Ar="(?:\\ud83c[\\udde6-\\uddff]){2}",Rr="[\\ud800-\\udbff][\\udc00-\\udfff]",jr="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",Nr="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Ar,Rr].join("|")+")[\\ufe0e\\ufe0f]?"+jr+")*",kr="[\\ufe0e\\ufe0f]?"+jr+Nr,qr="(?:"+["[^\\ud800-\\udfff]"+Dr+"?",Dr,Ar,Rr,"[\\ud800-\\udfff]"].join("|")+")",Cr=RegExp(Fr+"(?="+Fr+")|"+qr+kr,"g"),Mr=/^\s+|\s+$/g,zr=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Ur=/,/,Gr=/(=.+)?(\s*)$/,Hr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Br="function"==typeof setImmediate&&setImmediate,Vr="object"==typeof e&&"function"==typeof e.nextTick;Xt=Br?setImmediate:Vr?e.nextTick:pe;var Kr=de(Xt);ye.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},ye.prototype.empty=ye,ye.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},ye.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},ye.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):he(this,e)},ye.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):he(this,e)},ye.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ye.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var $r,Wr=C(q,1),Xr=h(function(e){return h(function(t){var r=this,n=t[t.length-1];"function"==typeof n?t.pop():n=b,me(e,t,function(e,t,n){t.apply(r,e.concat([h(function(e,t){n(e,t)})]))},function(e,t){n.apply(r,[e].concat(t))})})}),Jr=h(function(e){return Xr.apply(null,e.reverse())}),Yr=z(be),Qr=function(e){return function(t,r,n){return e(Wr,t,r,n)}}(be),Zr=h(function(e){var t=[null].concat(e);return xt(function(e,r){return r.apply(this,t)})}),en=_e(dr,i,we),tn=_e(q,i,we),rn=_e(Wr,i,we),nn=Se("dir"),on=C(Pe,1),an=_e(dr,Fe,Fe),sn=_e(q,Fe,Fe),un=C(sn,1),cn=z(Re),ln=G(Re),fn=C(ln,1),pn=Se("log"),dn=C(Ne,1/0),yn=C(Ne,1);$r=Vr?e.nextTick:Br?setImmediate:pe;var hn=de($r),gn=function(e,t){return ge(function(t,r){e(t[0],r)},t,1)},vn=function(e,t){var r=gn(e,t);return r.push=function(e,t,n){if(null==n&&(n=b),"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,Mt(e)||(e=[e]),0===e.length)return Kr(function(){r.drain()});t=t||0;for(var i=r._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,a=e.length;o<a;o++){var s={data:e[o],priority:t,callback:n};i?r._tasks.insertBefore(i,s):r._tasks.push(s)}Kr(r.process)},delete r.unshift,r},mn=Array.prototype.slice,bn=z(Be),_n=G(Be),wn=C(_n,1),Sn=function(e,t){return t||(t=e,e=null),xt(function(r,n){function i(e){t.apply(null,r.concat([e]))}e?Ke(e,i,n):Ke(i,n)})},Tn=_e(dr,Boolean,i),On=_e(q,Boolean,i),En=C(On,1),In=Math.ceil,Ln=Math.max,xn=C(Ye,1/0),Pn=C(Ye,1),Dn=function(e,t){function r(i){if(n===e.length)return t.apply(null,[null].concat(i));var o=N(h(function(e,n){if(e)return t.apply(null,[e].concat(n));r(n)}));i.push(o),e[n++].apply(null,i)}if(t=_(t||b),!Mt(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;r([])},Fn={applyEach:hr,applyEachSeries:mr,apply:br,asyncify:H,auto:wr,autoInject:fe,cargo:ve,compose:Jr,concat:Yr,concatSeries:Qr,constant:Zr,detect:en,detectLimit:tn,detectSeries:rn,dir:nn,doDuring:Te,doUntil:Ee,doWhilst:Oe,during:Ie,each:xe,eachLimit:Pe,eachOf:dr,eachOfLimit:q,eachOfSeries:Wr,eachSeries:on,ensureAsync:De,every:an,everyLimit:sn,everySeries:un,filter:cn,filterLimit:ln,filterSeries:fn,forever:je,log:pn,map:yr,mapLimit:gr,mapSeries:vr,mapValues:dn,mapValuesLimit:Ne,mapValuesSeries:yn,memoize:qe,nextTick:hn,parallel:Me,parallelLimit:ze,priorityQueue:vn,queue:gn,race:Ue,reduce:me,reduceRight:Ge,reflect:He,reflectAll:Ve,reject:bn,rejectLimit:_n,rejectSeries:wn,retry:Ke,retryable:Sn,seq:Xr,series:$e,setImmediate:Kr,some:Tn,someLimit:On,someSeries:En,sortBy:We,timeout:Xe,times:xn,timesLimit:Ye,timesSeries:Pn,transform:Qe,unmemoize:Ze,until:tt,waterfall:Dn,whilst:et,all:an,any:Tn,forEach:xe,forEachSeries:on,forEachLimit:Pe,forEachOf:dr,forEachOfSeries:Wr,forEachOfLimit:q,inject:me,foldl:me,foldr:Ge,select:cn,selectLimit:ln,selectSeries:fn,wrapSync:H};r.default=Fn,r.applyEach=hr,r.applyEachSeries=mr,r.apply=br,r.asyncify=H,r.auto=wr,r.autoInject=fe,r.cargo=ve,r.compose=Jr,r.concat=Yr,r.concatSeries=Qr,r.constant=Zr,r.detect=en,r.detectLimit=tn,r.detectSeries=rn,r.dir=nn,r.doDuring=Te,r.doUntil=Ee,r.doWhilst=Oe,r.during=Ie,r.each=xe,r.eachLimit=Pe,r.eachOf=dr,r.eachOfLimit=q,r.eachOfSeries=Wr,r.eachSeries=on,r.ensureAsync=De,r.every=an,r.everyLimit=sn,r.everySeries=un,r.filter=cn,r.filterLimit=ln,r.filterSeries=fn,r.forever=je,r.log=pn,r.map=yr,r.mapLimit=gr,r.mapSeries=vr,r.mapValues=dn,r.mapValuesLimit=Ne,r.mapValuesSeries=yn,r.memoize=qe,r.nextTick=hn,r.parallel=Me,r.parallelLimit=ze,r.priorityQueue=vn,r.queue=gn,r.race=Ue,r.reduce=me,r.reduceRight=Ge,r.reflect=He,r.reflectAll=Ve,r.reject=bn,r.rejectLimit=_n,r.rejectSeries=wn,r.retry=Ke,r.retryable=Sn,r.seq=Xr,r.series=$e,r.setImmediate=Kr,r.some=Tn,r.someLimit=On,r.someSeries=En,r.sortBy=We,r.timeout=Xe,r.times=xn,r.timesLimit=Ye,r.timesSeries=Pn,r.transform=Qe,r.unmemoize=Ze,r.until=tt,r.waterfall=Dn,r.whilst=et,r.all=an,r.allLimit=sn,r.allSeries=un,r.any=Tn,r.anyLimit=On,r.anySeries=En,r.find=en,r.findLimit=tn,r.findSeries=rn,r.forEach=xe,r.forEachSeries=on,r.forEachLimit=Pe,r.forEachOf=dr,r.forEachOfSeries=Wr,r.forEachOfLimit=q,r.inject=me,r.foldl=me,r.foldr=Ge,r.select=cn,r.selectLimit=ln,r.selectSeries=fn,r.wrapSync=H,Object.defineProperty(r,"__esModule",{value:!0})})}).call(this,e(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,r){"use strict";var n,i,o;n={},o=window.navigator.userAgent.toLowerCase(),n.ios=function(){return n.iphone()||n.ipod()||n.ipad()},n.iphone=function(){return!n.windows()&&i("iphone")},n.ipod=function(){return i("ipod")},n.ipad=function(){return i("ipad")},n.android=function(){return!n.windows()&&i("android")},n.androidPhone=function(){return n.android()&&i("mobile")},n.androidTablet=function(){return n.android()&&!i("mobile")},n.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},n.blackberryPhone=function(){return n.blackberry()&&!i("tablet")},n.blackberryTablet=function(){return n.blackberry()&&i("tablet")},n.windows=function(){return i("windows")},n.windowsPhone=function(){return n.windows()&&i("phone")},n.windowsTablet=function(){return n.windows()&&i("touch")&&!n.windowsPhone()},n.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},n.fxosPhone=function(){return n.fxos()&&i("mobile")},n.fxosTablet=function(){return n.fxos()&&i("tablet")},n.meego=function(){return i("meego")},n.mobile=function(){return n.androidPhone()||n.iphone()||n.ipod()||n.windowsPhone()||n.blackberryPhone()||n.fxosPhone()||n.meego()},n.tablet=function(){return n.ipad()||n.androidTablet()||n.blackberryTablet()||n.windowsTablet()||n.fxosTablet()},n.desktop=function(){return!n.tablet()&&!n.mobile()},i=function(e){return-1!==o.indexOf(e)},t.exports=n},{}],18:[function(e,t,r){function n(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0;var r=1===e._state?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._state?a:s)(t.promise,e._value);var n;try{n=r(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,n)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof r)return void l(bind(r,t),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){for(var t=0,r=e._deferreds.length;t<r;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function l(e,t){var r=!1;try{e(function(e){r||(r=!0,a(t,e))},function(e){r||(r=!0,s(t,e))})}catch(e){if(r)return;r=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new c(e,t,r)),r},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,r){function n(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){n(o,e)},r)}t[o]=a,0==--i&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)n(o,t[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,r){r(e)})},i.defer=function(){var e={};return e.promise=new i(function(t,r){e.resolve=t,e.reject=r}),e},t.exports=i},{}],19:[function(e,t,r){!function(){function r(e,t){if(!t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function n(){var e={},t=Array.prototype.slice.call(arguments),r=null,n=null;return t.forEach(function(t){if(t&&t.constructor===Object)for(r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]]}),e}function i(){this.custom={},this.extend=function(e){return r(this.custom,e)},this.reset=function(){this.custom={}},this.remove=function(e){h.array(e)||(e=[e]),e.forEach(function(e){delete this.custom[e]},this)}}function o(e,t){var r=["@"];if(this._schema=e,this._custom={},null!=t)for(var n in t)t.hasOwnProperty(n)&&(this._custom["$"+n]=t[n]);this._getDepth=function(){return r.length},this._dumpStack=function(){return r.map(function(e){return e.replace(/^\[/g,"")}).join(".").replace(/\.\u001b\u001c\u001d\u001e/g,"[")},this._deeperObject=function(e){return r.push(/^[a-z$_][a-z0-9$_]*$/i.test(e)?e:'["'+e+'"]'),this},this._deeperArray=function(e){return r.push("["+e+"]"),this},this._back=function(){return r.pop(),this}}function a(e,t){return"function"==typeof e?t instanceof e:(e=e in h?e:"any",h[e](t))}function s(e){for(var t in h)if(a(t,e))return"any"!==t?t:"an instance of "+e.constructor.name}function u(e,t){for(var r=[],n=e.indexOf(t);-1!==n;)r.push(n),n=e.indexOf(t,n+1);return r}function c(e,t){o.prototype.constructor.call(this,e,n(c.custom,t));var r=[];this._basicFields=Object.keys(v),this._customFields=Object.keys(this._custom),this.origin=null,this.report=function(e,t,n){var i={code:t||this.userCode||null,reason:n||"unknown",message:this.userError||e||"is invalid",property:this.userAlias?this.userAlias+" ("+this._dumpStack()+")":this._dumpStack()};return r.push(i),this},this.result=function(){return{error:r,valid:0===r.length,format:function(){return!0===this.valid?"Candidate is valid":this.error.map(function(e){return"Property "+e.property+": "+e.message}).join("\n")}}}}function l(e,t){o.prototype.constructor.call(this,e,n(l.custom,t));var r=[];this._basicFields=Object.keys(w),this._customFields=Object.keys(this._custom),this.origin=null,this.report=function(e){var t={message:e||"was sanitized",property:this.userAlias?this.userAlias+" ("+this._dumpStack()+")":this._dumpStack()};r.some(function(e){return e.property===t.property})||r.push(t)},this.result=function(e){return{data:e,reporting:r,format:function(){return this.reporting.map(function(e){return"Property "+e.property+" "+e.message}).join("\n")}}}}function f(e){var t=T,r=O;return null!=e.gte?t=e.gte:null!=e.gt&&(t=e.gt+1),null!=e.lte?r=e.lte:null!=e.lt&&(r=e.lt-1),{min:t,max:r}}function p(){}var d={};if(d.async="function"==typeof e?e(16):window.async,"object"!=typeof d.async)throw new Error("Module async is required (https://github.com/caolan/async)");var y=d.async,h={function:function(e){return"function"==typeof e},string:function(e){return"string"==typeof e},number:function(e){return"number"==typeof e&&!isNaN(e)},integer:function(e){return"number"==typeof e&&e%1==0},NaN:function(e){return"number"==typeof e&&isNaN(e)},boolean:function(e){return"boolean"==typeof e},null:function(e){return null===e},date:function(e){return null!=e&&e instanceof Date},object:function(e){return null!=e&&e.constructor===Object},array:function(e){return null!=e&&e.constructor===Array},any:function(e){return!0}},g={void:/^$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)?(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,"date-time":/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?(Z?|(-|\+)\d{2}:\d{2})$/,date:/^\d{4}-\d{2}-\d{2}$/,coolDateTime:/^\d{4}(-|\/)\d{2}(-|\/)\d{2}(T| )\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/,time:/^\d{2}\:\d{2}\:\d{2}$/,color:/^#([0-9a-f])+$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,numeric:/^[0-9]+$/,integer:/^\-?[0-9]+$/,decimal:/^\-?[0-9]*\.?[0-9]+$/,alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaDash:/^[a-z0-9_-]+$/i,javascript:/^[a-z_\$][a-z0-9_\$]*$/i,upperString:/^[A-Z ]*$/,lowerString:/^[a-z ]*$/},v={optional:function(e,t){!0!==("boolean"==typeof e.optional?e.optional:"true"===e.optional)&&void 0===t&&this.report("is missing and not optional",null,"optional")},type:function(e,t){if(void 0!==t&&("string"==typeof e.type||e.type instanceof Array||"function"==typeof e.type)){var r=h.array(e.type)?e.type:[e.type];r.some(function(e){return a(e,t)})||(r=r.map(function(e){return"function"==typeof e?"and instance of "+e.name:e}),this.report("must be "+r.join(" or ")+", but is "+s(t),null,"type"))}},uniqueness:function(e,t){if("string"==typeof e.uniqueness&&(e.uniqueness="true"===e.uniqueness),"boolean"==typeof e.uniqueness&&!1!==e.uniqueness&&(h.array(t)||"string"==typeof t))for(var r=[],n=0;n<t.length;n++)if(!(r.indexOf(t[n])>=0)){var i=u(t,t[n]);i.length>1&&(r.push(t[n]),this.report("has value ["+t[n]+"] more than once at indexes ["+i.join(", ")+"]",null,"uniqueness"))}},pattern:function(e,t){var r=this,n=e.pattern;if("string"==typeof t){var i=!1;h.array(n)||(n=[n]),n.forEach(function(e){"string"==typeof e&&e in g&&(e=g[e]),e instanceof RegExp&&e.test(t)&&(i=!0)}),i||r.report("must match ["+n.join(" or ")+'], but is equal to "'+t+'"',null,"pattern")}},validDate:function(e,t){"true"===String(e.validDate)&&t instanceof Date&&isNaN(t.getTime())&&this.report("must be a valid date",null,"validDate")},minLength:function(e,t){if("string"==typeof t||h.array(t)){var r=Number(e.minLength);isNaN(r)||t.length<r&&this.report("must be longer than "+r+" elements, but it has "+t.length,null,"minLength")}},maxLength:function(e,t){if("string"==typeof t||h.array(t)){var r=Number(e.maxLength);isNaN(r)||t.length>r&&this.report("must be shorter than "+r+" elements, but it has "+t.length,null,"maxLength")}},exactLength:function(e,t){if("string"==typeof t||h.array(t)){var r=Number(e.exactLength);isNaN(r)||t.length!==r&&this.report("must have exactly "+r+" elements, but it have "+t.length,null,"exactLength")}},lt:function(e,t){var r=Number(e.lt);"number"!=typeof t||isNaN(r)||t>=r&&this.report("must be less than "+r+', but is equal to "'+t+'"',null,"lt")},lte:function(e,t){var r=Number(e.lte);"number"!=typeof t||isNaN(r)||t>r&&this.report("must be less than or equal to "+r+', but is equal to "'+t+'"',null,"lte")},gt:function(e,t){var r=Number(e.gt);"number"!=typeof t||isNaN(r)||t<=r&&this.report("must be greater than "+r+', but is equal to "'+t+'"',null,"gt")},gte:function(e,t){var r=Number(e.gte);"number"!=typeof t||isNaN(r)||t<r&&this.report("must be greater than or equal to "+r+', but is equal to "'+t+'"',null,"gte")},eq:function(e,t){if("number"==typeof t||"string"==typeof t||"boolean"==typeof t){var r=e.eq;if("number"==typeof r||"string"==typeof r||"boolean"==typeof r||h.array(r))if(h.array(r)){for(var n=0;n<r.length;n++)if(t===r[n])return;this.report("must be equal to ["+r.map(function(e){return'"'+e+'"'}).join(" or ")+'], but is equal to "'+t+'"',null,"eq")}else t!==r&&this.report('must be equal to "'+r+'", but is equal to "'+t+'"',null,"eq")}},ne:function(e,t){if("number"==typeof t||"string"==typeof t){var r=e.ne;if("number"==typeof r||"string"==typeof r||h.array(r))if(h.array(r)){for(var n=0;n<r.length;n++)if(t===r[n])return void this.report('must not be equal to "'+r[n]+'"',null,"ne")}else t===r&&this.report('must not be equal to "'+r+'"',null,"ne")}},someKeys:function(e,t){var r=e.someKeys;if(h.object(t)){r.some(function(e){return e in t})||this.report("must have at least key "+r.map(function(e){return'"'+e+'"'}).join(" or "),null,"someKeys")}},strict:function(e,t){if("string"==typeof e.strict&&(e.strict="true"===e.strict),!0===e.strict&&h.object(t)&&h.object(e.properties)){var r=this;if(void 0===e.properties["*"]){var n=Object.keys(t).filter(function(t){return void 0===e.properties[t]});if(n.length>0){var i="should not contains "+(n.length>1?"properties":"property")+" ["+n.map(function(e){return'"'+e+'"'}).join(", ")+"]";r.report(i,null,"strict")}}}},
exec:function(e,t,r){var n=this;if("function"==typeof r)return this.asyncExec(e,t,r);(h.array(e.exec)?e.exec:[e.exec]).forEach(function(r){"function"==typeof r&&r.call(n,e,t)})},properties:function(e,t,r){if("function"==typeof r)return this.asyncProperties(e,t,r);if(e.properties instanceof Object&&t instanceof Object){var n,i=e.properties;if(null!=i["*"])for(n in t)n in i||(this._deeperObject(n),this._validate(i["*"],t[n]),this._back());for(n in i)"*"!==n&&(this._deeperObject(n),this._validate(i[n],t[n]),this._back())}},items:function(e,t,r){if("function"==typeof r)return this.asyncItems(e,t,r);if(e.items instanceof Object&&t instanceof Object){var n,i,o=e.items;if(h.array(o)&&h.array(t))for(n=0,i=o.length;n<i;n++)this._deeperArray(n),this._validate(o[n],t[n]),this._back();else for(var a in t)t.hasOwnProperty(a)&&(this._deeperArray(a),this._validate(o,t[a]),this._back())}}},m={asyncExec:function(e,t,r){var n=this;y.eachSeries(h.array(e.exec)?e.exec:[e.exec],function(r,i){if("function"==typeof r){if(r.length>2)return r.call(n,e,t,i);r.call(n,e,t)}y.nextTick(i)},r)},asyncProperties:function(e,t,r){if(!(e.properties instanceof Object&&h.object(t)))return r();var n=this,i=e.properties;y.series([function(e){if(null==i["*"])return e();y.eachSeries(Object.keys(t),function(e,r){if(e in i)return y.nextTick(r);n._deeperObject(e),n._asyncValidate(i["*"],t[e],function(e){n._back(),r(e)})},e)},function(e){y.eachSeries(Object.keys(i),function(e,r){if("*"===e)return y.nextTick(r);n._deeperObject(e),n._asyncValidate(i[e],t[e],function(e){n._back(),r(e)})},e)}],r)},asyncItems:function(e,t,r){if(!(e.items instanceof Object&&t instanceof Object))return r();var n=this,i=e.items;h.array(i)&&h.array(t)?y.timesSeries(i.length,function(e,r){n._deeperArray(e),n._asyncValidate(i[e],t[e],function(e,t){n._back(),r(e,t)}),n._back()},r):y.eachSeries(Object.keys(t),function(e,r){n._deeperArray(e),n._asyncValidate(i,t[e],function(e,t){n._back(),r(e,t)})},r)}};r(c.prototype,v),r(c.prototype,m),r(c,new i),c.prototype.validate=function(e,t){if(this.origin=e,"function"==typeof t){var r=this;return y.nextTick(function(){r._asyncValidate(r._schema,e,function(e){r.origin=null,t(e,r.result())})})}return this._validate(this._schema,e).result()},c.prototype._validate=function(e,t,r){return this.userCode=e.code||null,this.userError=e.error||null,this.userAlias=e.alias||null,this._basicFields.forEach(function(r){(r in e||"optional"===r)&&"function"==typeof this[r]&&this[r](e,t)},this),this._customFields.forEach(function(r){r in e&&"function"==typeof this._custom[r]&&this._custom[r].call(this,e,t)},this),this},c.prototype._asyncValidate=function(e,t,r){var n=this;this.userCode=e.code||null,this.userError=e.error||null,this.userAlias=e.alias||null,y.series([function(r){y.eachSeries(Object.keys(v),function(r,i){y.nextTick(function(){if((r in e||"optional"===r)&&"function"==typeof n[r]){if(n[r].length>2)return n[r](e,t,i);n[r](e,t)}i()})},r)},function(r){y.eachSeries(Object.keys(n._custom),function(r,i){y.nextTick(function(){if(r in e&&"function"==typeof n._custom[r]){if(n._custom[r].length>2)return n._custom[r].call(n,e,t,i);n._custom[r].call(n,e,t)}i()})},r)}],r)};var b={number:function(e,t){var r;if("number"==typeof e)return e;if(""===e)return void 0!==t.def?t.def:null;if("string"==typeof e){if("number"==typeof(r=parseFloat(e.replace(/,/g,".").replace(/ /g,""))))return r}else if(e instanceof Date)return+e;return null},integer:function(e,t){var r;if("number"==typeof e&&e%1==0)return e;if(""===e)return void 0!==t.def?t.def:null;if("string"==typeof e){if("number"==typeof(r=parseInt(e.replace(/ /g,""),10)))return r}else{if("number"==typeof e)return parseInt(e,10);if("boolean"==typeof e)return e?1:0;if(e instanceof Date)return+e}return null},string:function(e,t){return"boolean"==typeof e||"number"==typeof e||e instanceof Date?e.toString():h.array(e)?t.items||t.properties?e:e.join(String(t.joinWith||",")):e instanceof Object?t.items||t.properties?e:JSON.stringify(e):"string"==typeof e&&e.length?e:null},date:function(e,t){if(e instanceof Date)return e;var r=new Date(e);return isNaN(r.getTime())?null:r},boolean:function(e,t){return void 0===e?null:("string"!=typeof e||"false"!==e.toLowerCase())&&!!e},object:function(e,t){if("string"!=typeof e||h.object(e))return e;try{return JSON.parse(e)}catch(e){return null}},array:function(e,t){if(h.array(e))return e;if(void 0===e)return null;if("string"==typeof e){if("["===e.substring(0,1)&&"]"===e.slice(-1))try{return JSON.parse(e)}catch(e){return null}return e.split(String(t.splitWith||","))}return h.array(e)?null:[e]}},_={upper:function(e){return e.toUpperCase()},lower:function(e){return e.toLowerCase()},title:function(e){return e.replace(/\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},trim:function(e){return e.trim()}},w={strict:function(e,t){if("string"==typeof e.strict&&(e.strict="true"===e.strict),!0!==e.strict)return t;if(!h.object(e.properties))return t;if(!h.object(t))return t;return Object.keys(t).forEach(function(r){r in e.properties||delete t[r]}),t},optional:function(e,t){return!0===("boolean"==typeof e.optional?e.optional:"false"!==e.optional)?t:void 0!==t?t:(this.report(),e.def===Date?new Date:e.def)},type:function(e,t){if("string"!=typeof e.type||"function"!=typeof b[e.type])return t;var r,n="boolean"!=typeof e.optional||e.optional;return"function"==typeof b[e.type]?(null===(r=b[e.type](t,e))&&!n||!r&&isNaN(r)||null===r&&"string"===e.type)&&(r=e.def):n||(r=e.def),(null!=r||void 0!==e.def&&e.def===r)&&r!==t?(this.report(),r):t},rules:function(e,t){var r=e.rules;if("string"!=typeof t||"string"!=typeof r&&!h.array(r))return t;var n=!1;return(h.array(r)?r:[r]).forEach(function(e){"function"==typeof _[e]&&(t=_[e](t),n=!0)}),n&&this.report(),t},min:function(e,t){var r=Number(t);if(isNaN(r))return t;var n=Number(e.min);return isNaN(n)?t:r<n?(this.report(),n):t},max:function(e,t){var r=Number(t);if(isNaN(r))return t;var n=Number(e.max);return isNaN(n)?t:r>n?(this.report(),n):t},minLength:function(e,t){var r=Number(e.minLength);if("string"!=typeof t||isNaN(r)||r<0)return t;var n="",i=r-t.length;if(i>0){for(var o=0;o<i;o++)n+="-";return this.report(),t+n}return t},maxLength:function(e,t){var r=Number(e.maxLength);return"string"!=typeof t||isNaN(r)||r<0?t:t.length>r?(this.report(),t.slice(0,r)):t},properties:function(e,t,r){if("function"==typeof r)return this.asyncProperties(e,t,r);if(!t||"object"!=typeof t)return t;var n,i,o=e.properties;if(void 0!==o["*"])for(i in t)i in o||(this._deeperObject(i),n=this._sanitize(e.properties["*"],t[i]),void 0!==n&&(t[i]=n),this._back());for(i in e.properties)"*"!==i&&(this._deeperObject(i),n=this._sanitize(e.properties[i],t[i]),void 0!==n&&(t[i]=n),this._back());return t},items:function(e,t,r){if("function"==typeof r)return this.asyncItems(e,t,r);if(!(e.items instanceof Object&&t instanceof Object))return t;var n;if(h.array(e.items)&&h.array(t)){var i=e.items.length<t.length?e.items.length:t.length;for(n=0;n<i;n++)this._deeperArray(n),t[n]=this._sanitize(e.items[n],t[n]),this._back()}else for(n in t)t.hasOwnProperty(n)&&(this._deeperArray(n),t[n]=this._sanitize(e.items,t[n]),this._back());return t},exec:function(e,t,r){return"function"==typeof r?this.asyncExec(e,t,r):((h.array(e.exec)?e.exec:[e.exec]).forEach(function(r){"function"==typeof r&&(t=r.call(this,e,t))},this),t)}},S={asyncExec:function(e,t,r){var n=this,i=h.array(e.exec)?e.exec:[e.exec];y.eachSeries(i,function(r,i){if("function"==typeof r){if(r.length>2)return r.call(n,e,t,function(e,r){if(e)return i(e);t=r,i()});t=r.call(n,e,t)}i()},function(e){r(e,t)})},asyncProperties:function(e,t,r){if(!t||"object"!=typeof t)return r(null,t);var n=this,i=e.properties;y.series([function(e){if(null==i["*"])return e();var r=i["*"];y.eachSeries(Object.keys(t),function(e,o){if(e in i)return o();n._deeperObject(e),n._asyncSanitize(r,t[e],function(r,i){void 0!==i&&(t[e]=i),n._back(),o()})},e)},function(e){y.eachSeries(Object.keys(i),function(e,r){if("*"===e)return r();n._deeperObject(e),n._asyncSanitize(i[e],t[e],function(i,o){if(i)return r(i);void 0!==o&&(t[e]=o),n._back(),r()})},e)}],function(e){return r(e,t)})},asyncItems:function(e,t,r){if(!(e.items instanceof Object&&t instanceof Object))return r(null,t);var n=this,i=e.items;if(h.array(i)&&h.array(t)){var o=i.length<t.length?i.length:t.length;y.timesSeries(o,function(e,r){n._deeperArray(e),n._asyncSanitize(i[e],t[e],function(i,o){if(i)return r(i);t[e]=o,n._back(),r()})},function(e){r(e,t)})}else y.eachSeries(Object.keys(t),function(e,r){n._deeperArray(e),n._asyncSanitize(i,t[e],function(i,o){if(i)return r();t[e]=o,n._back(),r()})},function(e){r(e,t)});return t}};r(l.prototype,w),r(l.prototype,S),r(l,new i),l.prototype.sanitize=function(e,t){if(this.origin=e,"function"==typeof t){var r=this;return this._asyncSanitize(this._schema,e,function(e,n){r.origin=null,t(e,r.result(n))})}var n=this._sanitize(this._schema,e);return this.origin=null,this.result(n)},l.prototype._sanitize=function(e,t){return this.userAlias=e.alias||null,this._basicFields.forEach(function(r){(r in e||"optional"===r)&&"function"==typeof this[r]&&(t=this[r](e,t))},this),this._customFields.forEach(function(r){r in e&&"function"==typeof this._custom[r]&&(t=this._custom[r].call(this,e,t))},this),t},l.prototype._asyncSanitize=function(e,t,r){var n=this;this.userAlias=e.alias||null,y.waterfall([function(r){y.reduce(n._basicFields,t,function(t,r,i){y.nextTick(function(){if((r in e||"optional"===r)&&"function"==typeof n[r]){if(n[r].length>2)return n[r](e,t,i);t=n[r](e,t)}i(null,t)})},r)},function(t,r){y.reduce(n._customFields,t,function(t,r,i){y.nextTick(function(){if(r in e&&"function"==typeof n._custom[r]){if(n._custom[r].length>2)return n._custom[r].call(n,e,t,i);t=n._custom[r].call(n,e,t)}i(null,t)})},r)}],r)};var T=-2147483648,O=2147483647,E={int:function(e,t){return e+(0|Math.random()*(t-e+1))},float:function(e,t){return Math.random()*(t-e)+e},bool:function(){return Math.random()>.5},char:function(e,t){return String.fromCharCode(this.int(e,t))},fromList:function(e){return e[this.int(0,e.length-1)]}},I={"date-time":function(){return(new Date).toISOString()},date:function(){return(new Date).toISOString().replace(/T.*$/,"")},time:function(){return(new Date).toLocaleTimeString({},{hour12:!1})},color:function(e,t){var r="#";e<1&&(e=1);for(var n=0,i=E.int(e,t);n<i;n++)r+=E.fromList("0123456789abcdefABCDEF");return r},numeric:function(){return""+E.int(0,O)},integer:function(){return!0===E.bool()?"-"+this.numeric():this.numeric()},decimal:function(){return this.integer()+"."+this.numeric()},alpha:function(e,t){var r="";e<1&&(e=1);for(var n=0,i=E.int(e,t);n<i;n++)r+=E.fromList("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return r},alphaNumeric:function(e,t){var r="";e<1&&(e=1);for(var n=0,i=E.int(e,t);n<i;n++)r+=E.fromList("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");return r},alphaDash:function(e,t){var r="";e<1&&(e=1);for(var n=0,i=E.int(e,t);n<i;n++)r+=E.fromList("_-abcdefghijklmnopqrstuvwxyz_-ABCDEFGHIJKLMNOPQRSTUVWXYZ_-0123456789_-");return r},javascript:function(e,t){for(var r=E.fromList("_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$"),n=0,i=E.int(e,t-1);n<i;n++)r+=E.fromList("_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$0123456789_$");return r}},L={string:function(e){if(null!=e.eq)return e.eq;var t="",r=null!=e.minLength?e.minLength:0,n=null!=e.maxLength?e.maxLength:32;if("string"==typeof e.pattern&&"function"==typeof I[e.pattern])return I[e.pattern](r,n);for(var i=null!=e.exactLength?e.exactLength:E.int(r,n),o=0;o<i;o++)t+=E.char(32,126);return t},number:function(e){if(null!=e.eq)return e.eq;var t=f(e),r=E.float(t.min,t.max);if(null!=e.ne)for(var n=h.array(e.ne)?e.ne:[e.ne];-1!==n.indexOf(r);)r=E.float(t.min,t.max);return r},integer:function(e){if(null!=e.eq)return e.eq;var t=f(e),r=E.int(t.min,t.max);if(null!=e.ne)for(var n=h.array(e.ne)?e.ne:[e.ne];-1!==n.indexOf(r);)r=E.int(t.min,t.max);return r},boolean:function(e){return null!=e.eq?e.eq:E.bool()},null:function(e){return null},date:function(e){return null!=e.eq?e.eq:new Date},object:function(e){var t={},r=e.properties||{};for(var n in r)if(r.hasOwnProperty(n)){if(!0===r[n].optional&&!0===E.bool())continue;if("*"!==n)t[n]=this.generate(r[n]);else for(var i="__random_key_",o=i+0,a=E.int(1,9),s=1;s<=a;s++)o in r||(t[o]=this.generate(r[n])),o=i+s}return t},array:function(e){var t,r,n,i,o=this,a=e.items||{},s=null!=e.minLength?e.minLength:0,u=null!=e.maxLength?e.maxLength:16;if(h.array(a))for(n=a.length,null!=e.exactLength?n=e.exactLength:n<s?n=s:n>u&&(n=u),r=new Array(n),t=null,i=0;i<n;i++)t=a[i].type||"any",h.array(t)&&(t=t[E.int(0,t.length-1)]),r[i]=o[t](a[i]);else for(n=null!=e.exactLength?e.exactLength:E.int(s,u),r=new Array(n),t=a.type||"any",h.array(t)&&(t=t[E.int(0,t.length-1)]),i=0;i<n;i++)r[i]=o[t](a);return r},any:function(e){var t=Object.keys(L);return this[t[E.int(0,t.length-2)]](e)}};r(p.prototype,L);var x=null;p.instance=function(){return x instanceof p||(x=new p),x},p.prototype.generate=function(e){var t=e.type||"any";return h.array(t)&&(t=t[E.int(0,t.length-1)]),this[t](e)};var P={};void 0!==t&&t.exports?t.exports=P:window.SchemaInspector=P,P.newSanitization=function(e,t){return new l(e,t)},P.newValidation=function(e,t){return new c(e,t)},P.Validation=c,P.Sanitization=l,P.sanitize=function(e,t,r,n){return 3===arguments.length&&"function"==typeof r&&(n=r,r=null),new l(e,r).sanitize(t,n)},P.validate=function(e,t,r,n){return 3===arguments.length&&"function"==typeof r&&(n=r,r=null),new c(e,r).validate(t,n)},P.generate=function(e,t){if("number"==typeof t){for(var r=new Array(t),n=0;n<t;n++)r[n]=p.instance().generate(e);return r}return p.instance().generate(e)}}()},{}],20:[function(e,t,r){"use strict";t.exports=function(e){e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r={},n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0"};if(n.browser&&(r[n.browser]=!0,r.version=n.version,r.versionNumber=parseInt(n.versionNumber,10)),r.rv||r.iemobile){n.browser="msie",r.msie=!0}if(r.edge){delete r.edge;n.browser="msedge",r.msedge=!0}if(r.opr){n.browser="opera",r.opera=!0}if(r.safari&&r.android){n.browser="android",r.android=!0}if(r.safari&&r.kindle){n.browser="kindle",r.kindle=!0}if(r.safari&&r.silk){n.browser="silk",r.silk=!0}return r.name=n.browser,r}(window.navigator.userAgent)},{}],21:[function(e,t,r){"use strict";var n=e(9),i=e(24),o=e(30);e(31);t.exports=function(){function e(e,t){(t=t||window.googletag)&&t.cmd&&t.cmd.push(e)}function t(e){return e=e||window,e.googletag?e.googletag:(e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[],i.jsonp({async:!0,url:n.getProtocol()+"//www.googletagservices.com/tag/js/gpt.js",windowScope:e}),e.googletag)}function r(e){return void 0===e?n.getNearestEntity("googletag"):n.traverseContextTree(function(e){return e.hasOwnProperty("googletag")?e.googletag:null},null,e,e)}function a(e){return o.isObject(e)&&o.isFunction(e.getSlotElementId)&&o.isFunction(e.setTargeting)&&o.isFunction(e.getTargeting)&&o.isFunction(e.clearTargeting)}function s(){return googletag.pubads().getSlots().slice()}function u(e){for(var t=s(),r=0;r<t.length;r++)if(t[r].getSlotElementId()===e)return t[r];return null}return{run:e,loadGpt:t,getGpt:r,isGSlot:a,getGSlots:s,getGSlotByDivId:u}}()},{}],22:[function(e,t,r){"use strict";function n(e,t){function r(e,t){return Number(e)-Number(t)}function n(){return f}function i(){return p}function o(){return d}function a(){return y}function s(e,t){var n,i,o,a,s=[];n=Object.keys(h).sort(r);for(var u=n.length-1;u>=0;u--)if(o=n[u],!(Number(o)>e)){i=Object.keys(h[o]).sort(r);for(var c=i.length-1;c>=0;c--)if(a=i[c],!(Number(a)>t)){s=h[o][a];break}if(s.length>0)break}return s}function u(){return g}function c(){return v}function l(){return m}var f,p,d,y,h,g,v,m;return function(){if(f=e,p=t.id,d=null,y=null,h=null,g=null,v=null,m=null,t.hasOwnProperty("divId")&&(d=RegExp(t.divId)),t.hasOwnProperty("adUnitPath")&&(y=RegExp(t.adUnitPath)),t.hasOwnProperty("sizeMapping")){var r,n,i,o=/^(\d+)x(\d+)$/;h={};for(var a in t.sizeMapping)t.sizeMapping.hasOwnProperty(a)&&(r=o.exec(a),n=r[1],i=r[2],h.hasOwnProperty(n)||(h[n]={}),h[n][i]=t.sizeMapping[a])}t.hasOwnProperty("targeting")&&(g=t.targeting),t.hasOwnProperty("deviceType")&&(v=t.deviceType),t.hasOwnProperty("position")&&(m=t.position),t=void 0}(),{getName:n,getId:i,getDivId:o,getAdUnitPath:a,getSizes:s,getTargeting:u,getDeviceType:c,getPosition:l}}e(31);t.exports=n},{}],23:[function(e,t,r){"use strict";function n(e){function t(e,t){for(var r=0;r<e.length;r++){var n,i;"!"===e[r].charAt(0)?(n=e[r].slice(1),i=!0):(n=e[r],i=!1);for(var o=!1,a=0;a<t.length;a++)if(n===t[a]){o=!0;break}if(i===o)return!1}return!0}function r(e,r){for(var n in e)if(e.hasOwnProperty(n)){if(!r.hasOwnProperty(n))return!1;if(!t(e[n],r[n]))return!1}return!0}function n(e,t){for(var r=0;r<f.length;r++)if(0===f[r](e,t))return!1;return!0}function s(e,t,r){for(var n=0;n<r.length;n++){if(r[n](e,t)<=0)return!1}return!0}function u(e,t){if(o.isEmpty(f))return e.slice();for(var r=[],i=0;i<e.length;i++)for(var a=0;a<t.length;a++)if(n(t[a],e[i])){r.push(e[i]);break}return r}function c(e,t){if(o.isEmpty(e)||o.isEmpty(t))return[];for(var r=[],n=e.slice(),i=t.slice(),a=0;a<l.length;a++){for(var u=l[a],c=[],f=i.length-1;f>=0;f--){for(var p=[],d=-1,y=0;y<n.length;y++)if(s(i[f],n[y],u)){for(var h=[],g=0;g<u.length;g++){var v=u[g](i[f],n[y]);h.push(v)}for(var m=0;m<u.length;m++){if(!p[m]||h[m]>p[m]){p=h,d=y;break}if(h[m]<p[m])break}}if(d>=0){var b={};c[d]=!0,b.htSlot=n[d],i[f].firstPartyData&&(b.firstPartyData=i[f].firstPartyData),i[f].reference&&(b.ref=i[f].reference),r.push(b),i.splice(f,1)}}for(var _=n.length-1;_>=0;_--)c[_]&&n.splice(_,1)}return r}var l=[],f=[],p={divId:function(e,t){var r=t.getDivId();return r?r.test(e.divId)?1:0:-1},targeting:function(e,t){var n=t.getTargeting(),i=e.targeting;if(!n)return-1;for(var a=!1,s=0,u=0;u<n.length;u++)if(n[u])if(o.isEmpty(n[u]))a=!0;else if(r(n[u],i)){var c=0;for(var l in n[u])n[u].hasOwnProperty(l)&&(c+=n[u][l].length);s=Math.max(s,c)}return a||s>0?s+1:0},size:function(e,t){var r=t.getSizes(i.getViewportWidth(),i.getViewportHeight());if(!r)return-1;for(var n=0,o=0;o<r.length;o++){for(var a=0,s=0;s<e.sizes.length;s++)if(r[o][0]===e.sizes[s][0]&&r[o][1]===e.sizes[s][1]){a++;break}if(0===a)return 0;n+=a}return 0===n?0:Math.ceil(100*n/e.sizes.length)},deviceType:function(e,t){var r=t.getDeviceType();return r?r===SpaceCamp.DeviceTypeChecker.getDeviceType()?1:0:-1},adUnitPath:function(e,t){var r=t.getAdUnitPath();return r?r.test(e.adUnitPath)?1:0:-1}};return function(){for(var t=0;t<e.filters.length;t++){if(!p.hasOwnProperty(e.filters[t]))throw a("INVALID_CONFIG","Cannot find function "+e.filters[t]+" in HtSlotMapper");f.push(p[e.filters[t]])}for(var r=0;r<e.selectors.length;r++){var n=[],i=e.selectors[r];if(o.isString(i))n.push(p[i]);else for(var s=0;s<i.length;s++)n.push(p[i[s]]);l.push(n)}}(),{select:c,filter:u}}var i=e(9),SpaceCamp=e(52),o=e(30),a=e(31);t.exports=n},{}],24:[function(e,t,r){"use strict";var SpaceCamp=e(52),n=e(29),i=e(30),o=e(31),a=e(20);t.exports=function(){function e(){return l}function t(e){var t="";for(var r in e)if(e.hasOwnProperty(r))if(i.isObject(e[r]))for(var n in e[r])e[r].hasOwnProperty(n)&&(t+=r+"%5B"+n+"%5D="+encodeURIComponent(e[r][n])+"&");else if(i.isArray(e[r]))for(var o=0;o<e[r].length;o++)t+=r+"%5B%5D="+encodeURIComponent(e[r][o])+"&";else t+=r+"="+encodeURIComponent(e[r])+"&";return t.slice(0,-1)}function r(e,r,n){return"/"!==e[e.length-1]&&r&&(e+="/"),r=r||[],i.isObject(n)&&(n=t(n)),n=n?"?"+n:"",e+r.join("/")+n}function s(e){var o,s=null,u=e.scope||window;if(e.useImgTag)o=u.document.createElement("img");else{o=u.document.createElement("script"),o.type="text/javascript";var c=!0;e.hasOwnProperty("async")&&(c=e.async),o.async=c}var l=e.url;if(e.data){var f;f=i.isString(e.data)?e.data:t(e.data),l=r(e.url,null,f)}var p,d=!1,y=function(){try{if(d)return;d=!0,e.onTimeout&&e.onTimeout(),e.useImgTag||e.continueAfterTimeout||o.parentNode.removeChild(o)}catch(e){}};e.globalTimeout&&SpaceCamp.services.TimerService.addTimerCallback(e.sessionId,y),e.timeout&&(p=setTimeout(y,e.timeout));var h=function(){try{if(d){if(!e.continueAfterTimeout)return}else clearTimeout(p);e.onSuccess&&e.onSuccess(null,n.now(),d),d=!0,e.useImgTag||o.parentNode.removeChild(o)}catch(e){}};null===o.onload?o.onload=h:o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,h())};var g=function(){try{if(d){if(!e.continueAfterTimeout)return}else clearTimeout(p),d=!0;e.onFailure&&e.onFailure(),e.useImgTag||o.parentNode.removeChild(o)}catch(e){}};if(o.onerror=g,s=n.now(),o.src=l,!e.useImgTag){var v=u.document.getElementsByTagName("script")[0];v?v.parentNode.insertBefore(o,v):a.msie||a.msedge||a.mozilla?u.onload=function(){u.document.body.appendChild(o)}:u.document.body.appendChild(o)}return s}function u(a){if(!e()){if(a.jsonp&&"GET"===a.method)return s(a);throw o("INTERNAL_ERROR","XHR is not supported in this browser.")}var u=null,c=a.scope||window,l=new c.XMLHttpRequest,f=a.url,p=null;if(a.data)if("GET"===a.method){var d;d=i.isString(a.data)?a.data:t(a.data),f=r(a.url,null,d)}else"POST"===a.method&&(p=i.isString(a.data)?a.data:JSON.stringify(a.data));var y=!0;a.hasOwnProperty("async")&&(y=a.async),l.open(a.method,f,y);var h="application/x-www-form-urlencoded; charset=UTF-8";if(void 0!==a.contentType&&(h=a.contentType),h&&l.setRequestHeader("Content-Type",h),a.headers){a.headers.hasOwnProperty("X-Request-With")||l.setRequestHeader("X-Request-With","XMLHttpRequest");for(var g in a.headers)a.headers.hasOwnProperty(g)&&l.setRequestHeader(g,a.headers[g])}a.withCredentials&&(l.withCredentials=!0);var v,m=!1,b=function(){try{if(m)return;m=!0,a.onTimeout&&a.onTimeout()}catch(e){}};return a.globalTimeout&&SpaceCamp.services.TimerService.addTimerCallback(a.sessionId,b),a.timeout&&(a.continueAfterTimeout?v=setTimeout(b,a.timeout):(l.timeout=a.timeout,l.ontimeout=b)),(a.onSuccess||a.onFailure)&&(l.onreadystatechange=function(){if(4===l.readyState){if(m){if(!a.continueAfterTimeout)return}else clearTimeout(v),l.ontimeout=null;if(200===l.status){if(a.onSuccess)try{a.onSuccess(l.responseText,n.now(),m)}catch(e){}}else if(a.onFailure)try{a.onFailure(l.status)}catch(e){}m=!0}}),u=n.now(),l.send(p),u}function c(e){return e.useImgTag=!0,s(e)}var l;return function(){l=window.XMLHttpRequest&&"string"==typeof(new XMLHttpRequest).responseType}(),{ajax:u,jsonp:s,img:c,buildUrl:r,objToQueryString:t,isXhrSupported:e}}()},{}],25:[function(e,t,r){"use strict";var n=(e(14),e(29)),i=e(31);t.exports=function(){function e(){if(!(this instanceof e))return new e;this.__bidRequest={id:Number(n.generateUniqueId(8,"NUM")),site:{page:""},imp:[]},this.__impCount=0}function t(e){if(!(this instanceof t))return new t(e);try{this.__bidResponse=e}catch(e){throw i("INTERNAL_ERROR","cannot parse `bidResponse`")}}return e.prototype.setPage=function(e){this.__bidRequest.site.page=e},e.prototype.setRef=function(e){this.__bidRequest.site.ref=e},e.prototype.getId=function(){return this.__bidRequest.id},e.prototype.addImp=function(e,t,r,n){var i=String(++this.__impCount);return this.__bidRequest.imp.push({banner:e,ext:t,id:i,bidfloor:r,bidfloorcur:n}),i},e.prototype.addUserEid=function(e){this.__bidRequest.user=this.__bidRequest.user||{},this.__bidRequest.user.eids=this.__bidRequest.user.eids||[],this.__bidRequest.user.eids.push(e)},e.prototype.setGdprConsent=function(e,t){this.__bidRequest.regs=this.__bidRequest.regs||{},this.__bidRequest.regs.ext=this.__bidRequest.regs.ext||{},this.__bidRequest.regs.ext.gdpr=e?1:0,this.__bidRequest.user=this.__bidRequest.user||{},this.__bidRequest.user.ext=this.__bidRequest.user.ext||{},this.__bidRequest.user.ext.consent=t||""},e.prototype.setExt=function(e){this.__bidRequest.ext=e},e.prototype.stringify=function(){return JSON.stringify(this.__bidRequest)},t.prototype.__parseBid=function(e,t){var r={};e.hasOwnProperty("impid")&&(r.impid=e.impid),e.hasOwnProperty("price")&&(r.price=e.price),e.hasOwnProperty("adm")&&(r.adm=e.adm),e.hasOwnProperty("ext")&&(r.ext=e.ext),e.hasOwnProperty("dealid")&&(r.dealid=e.dealid),e.hasOwnProperty("nurl")&&(r.nurl=e.nurl),e.hasOwnProperty("nbr")&&(r.nbr=e.nbr),e.hasOwnProperty("w")&&(r.w=e.w),e.hasOwnProperty("h")&&(r.h=e.h),t.push(r)},t.prototype.getId=function(){return this.__bidResponse.id},t.prototype.getCur=function(){return this.__bidResponse.cur||"USD"},t.prototype.getExt=function(){return this.__bidResponse.ext},t.prototype.getBids=function(){var e,t,r=[];if(!this.__bidResponse.hasOwnProperty("seatbid"))return r;t=this.__bidResponse.seatbid;for(var n=0;n<t.length;n++)if(t[n].hasOwnProperty("bid")){e=t[n].bid;for(var i=0;i<e.length;i++)this.__parseBid(e[i],r)}return r},{BidRequest:e,BidResponse:t}}()},{}],26:[function(e,t,r){"use strict";var n=(e(14),e(29));e(31);t.exports=function(){function e(){if(!(this instanceof e))return new e;this.__bidRequest={id:n.generateUniqueId(8,"NUM"),site:{page:""},imp:[]},this.__impCount=0}function t(e){if(!(this instanceof t))return new t(e);this.__bidResponse=e}return e.prototype.setPage=function(e){this.__bidRequest.site.page=e},e.prototype.setRef=function(e){this.__bidRequest.site.ref=e},e.prototype.setSiteId=function(e){this.__bidRequest.site.id=e},e.prototype.setPublisher=function(e){this.__bidRequest.site.publisher=e},e.prototype.setSiteExt=function(e){this.__bidRequest.site.ext=e},e.prototype.deviceTypeMapping={desktop:2,mobile:4,tablet:5},e.prototype.setDeviceType=function(e){this.__bidRequest.device=this.__bidRequest.device||{},this.__bidRequest.device.devicetype=this.deviceTypeMapping[e]?this.deviceTypeMapping[e]:e},e.prototype.setSource=function(e){this.__bidRequest.source=e},e.prototype.setTmax=function(e){this.__bidRequest.tmax=e},e.prototype.setAuctionType=function(e){this.__bidRequest.at=e},e.prototype.setExt=function(e){this.__bidRequest.ext=e},e.prototype.setTest=function(){this.__bidRequest.test=1},e.prototype.getId=function(){return this.__bidRequest.id},e.prototype.addImp=function(e){return e.id||(e.id=String(++this.__impCount)),this.__bidRequest.imp.push(e),e.id},e.prototype.setImps=function(e){this.__bidRequest.imp=e},e.prototype.setGdprConsent=function(e,t){this.__bidRequest.regs=this.__bidRequest.regs||{},this.__bidRequest.regs.ext=this.__bidRequest.regs.ext||{},this.__bidRequest.regs.ext.gdpr=e?1:0,this.__bidRequest.user=this.__bidRequest.user||{},this.__bidRequest.user.ext=this.__bidRequest.user.ext||{},this.__bidRequest.user.ext.consent=t||""},e.prototype.stringify=function(){return JSON.stringify(this.__bidRequest)},t.prototype.__parseBid=function(e,t){var r={};e.hasOwnProperty("impid")&&(r.impid=e.impid),e.hasOwnProperty("price")&&(r.price=e.price),e.hasOwnProperty("adm")&&(r.adm=e.adm),e.hasOwnProperty("ext")&&(r.ext=e.ext),e.hasOwnProperty("dealid")&&(r.dealid=e.dealid),e.hasOwnProperty("nurl")&&(r.nurl=e.nurl),e.hasOwnProperty("nbr")&&(r.nbr=e.nbr),e.hasOwnProperty("w")&&(r.w=e.w),e.hasOwnProperty("h")&&(r.h=e.h),t.push(r)},t.prototype.getId=function(){return this.__bidResponse.id},t.prototype.getCur=function(){return this.__bidResponse.cur||"USD"},t.prototype.getBids=function(){var e,t,r=[];if(!this.__bidResponse.hasOwnProperty("seatbid"))return r;t=this.__bidResponse.seatbid;for(var n=0;n<t.length;n++)if(t[n].hasOwnProperty("bid")){e=t[n].bid;for(var i=0;i<e.length;i++)this.__parseBid(e[i],r)}return r},{BidRequest:e,BidResponse:t}}()},{}],27:[function(e,t,r){"use strict";function n(){function e(){for(var e,t="unknown",r=/at\s(.+)/g,n=Error().stack,i=0;null!==(e=r.exec(n));){if(2===i){t=e[1];break}i++}return(f?f+" | ":"")+t+":"}function t(e){l=n.LoggingLevels[e]}function r(e){f=e}function o(){if(!(l<n.LoggingLevels.ERROR)){var t=Array.prototype.slice.call(arguments);t.unshift(e()),console.error.apply(console,t)}}function a(){if(!(l<n.LoggingLevels.WARN)){var t=Array.prototype.slice.call(arguments);t.unshift(e()),console.warn.apply(console,t)}}function s(){if(!(l<n.LoggingLevels.INFO)){var t=Array.prototype.slice.call(arguments);t.unshift(e()),console.info.apply(console,t)}}function u(){l<n.LoggingLevels.INFO||(console.info.apply(console,[e()]),console.table.apply(console,arguments))}function c(){if(!(l<n.LoggingLevels.DEBUG)){var t=Array.prototype.slice.call(arguments);t.unshift(e()),console.debug.apply(console,t)}}var l,f;return function(){l=n.LoggingLevels.DEBUG,f=SpaceCamp.NAMESPACE+"_"+i.generateUniqueId(4)}(),{__type__:"Scribe",setLevel:t,setHeader:r,error:o,warn:a,info:s,table:u,debug:c}}var SpaceCamp=e(52),i=e(29);e(31);n.LoggingLevels={SILENT:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},t.exports=n()},{}],28:[function(e,t,r){"use strict";var n=e(30);t.exports=function(){function e(e){return a[e]}function t(e){return!(!n.isArray(e,"number")||2!==e.length)}function r(e){if(t(e))return!0;if(!n.isArray(e,"array"))return!1;for(var r=0;r<e.length;r++)if(!t(e[r]))return!1;return!0}function i(t,r,i){r=r||",",i=i||"x";var o="";if(n.isArray(t,"array"))for(var a=0;a<t.length;a++)o+=e(t[a])?t[a]:t[a][0]+i+t[a][1]+r;else e(t)?o+=t+r:o+=t[0]+i+t[1]+r;return o.slice(0,-1)}function o(t,r,n){r=r||",",n=n||"x";for(var i=[],o=t.split(r),a=0;a<o.length;a++)if(e(o[a]))i.push(o[a]);else{var s=o[a].split(n);i.push([Number(s[0]),Number(s[1])])}return i}var a={native:!0,fullwidth:!0};return{arrayToString:i,stringToArray:o,isSpecialSize:e,isSize:t,isSizes:r}}()},{}],29:[function(e,t,r){"use strict";var n=e(14);e(31);t.exports=function(){function e(e,t){e.open("text/html","replace"),e.write(t),e.close()}function t(e,t){e=e||n.DEFAULT_UID_LENGTH,t=t||n.DEFAULT_UID_CHARSET;for(var r="",i=0;i<e;i++)r+=u[t].charAt(Math.floor(Math.random()*u[t].length));return r}function r(){return t(8,"HEX")+"-"+t(4,"HEX")+"-4"+t(3,"HEX")+"-"+"89ab".charAt(Math.floor(4*Math.random()))+t(3,"HEX")+"-"+t(8,"HEX")}function i(){return(new Date).getTime()}function o(){return s.getTimezoneOffset()}function a(){}var s,u={ALPHANUM:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ALPHA_UPPER:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",ALPHA_LOWER:"abcdefghijklmnopqrstuvwxyz",HEX:"0123456789abcdef",NUM:"0123456789"};return function(){s=new Date}(),{UidCharacterSets:u,generateUniqueId:t,generateUuid:r,now:i,getTimezoneOffset:o,documentWrite:e,noOp:a}}()},{}],30:[function(e,t,r){"use strict";var n=e(31);t.exports=function(){function e(e){return void 0===e?"undefined":{}.toString.call(e).match(I)[1].toLowerCase()}function t(t){return"string"===e(t)}function r(t){return"number"===e(t)&&!isNaN(t)}function i(t){return"number"===e(t)||"string"===e(t)&&!isNaN(Number(t))}function o(e){return r(e)&&e%1==0}function a(t){return"function"===e(t)}function s(t){return"boolean"===e(t)}function u(t){return"object"===e(t)}function c(t){return"regexp"===e(t)}function l(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}function f(r,i,o){if("array"!==e(r))return!1;if(void 0!==i){if(!t(i))throw n("INVALID_TYPE","`type` must be a string");if("class"===i){if(!t(o))throw n("INVALID_TYPE","`className` must be a string");for(var a=0;a<r.length;a++)if("object"!=typeof r[a]||r[a].__type__!==o)return!1}else for(var s=0;s<r.length;s++)if(e(r[s])!==i)return!1}return!0}function p(e){
return e.length?e.splice(Math.floor(Math.random()*e.length),1)[0]:null}function d(e){var t,r,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e}function y(e){return JSON.parse(JSON.stringify(e))}function h(){for(var e=Array.prototype.slice.call(arguments),t={},r=0;r<e.length;r++)for(var n in e[r])e[r].hasOwnProperty(n)&&(t[n]=e[r][n]);return t}function g(){for(var e=Array.prototype.slice.call(arguments),t=[],r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)t.push(e[r][n]);return t}function v(e){if(t(e)){if(""!==e)return!1}else if(u(e)){for(var r in e)if(e.hasOwnProperty(r))return!1}else{if(!f(e))throw n("INVALID_TYPE","`entity` must be either a string, object, or an array");if(e.length)return!1}return!0}function m(e,t,r){void 0===r&&(r=L);for(var n=0;n<e.length;n++){for(var i=!1,o=0;o<t.length&&!(i=r(e[n],t[o]));o++);if(!i)return!1}return!0}function b(e,t,r,n){return t=t||[],n=n||null,r=r||"Error occurred while calling function.",function(){try{e.apply(n,t)}catch(e){}}}function _(e,t){var r=""+e;if(t=+t,t!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0==r.length||0==t)return"";if(r.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="",i=0;i<t;i++)n+=r;return n}function w(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):(t-=e.length,t>r.length&&(r+=_(r,t/r.length)),r.slice(0,t)+String(e))}function S(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):(t-=e.length,t>r.length&&(r+=_(r,t/r.length)),String(e)+r.slice(0,t))}function T(e,t){t=t||null;try{return eval.call(t,e)}catch(e){}return null}function O(e,t,r){r=r||null;try{return eval.call(r,e+"("+t.join()+")")}catch(e){}return null}function E(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=1;r<e.length;r++)Array.prototype.push.apply(t,e[r]);return t}var I=/\s([a-zA-Z]+)/,L=function(e,t){return e===t};return{randomSplice:p,shuffle:d,deepCopy:y,mergeObjects:h,mergeArrays:g,isArray:f,isEmpty:v,isInteger:o,isString:t,isNumeric:i,isRegex:c,isNumber:r,isBoolean:s,isFunction:a,isObject:u,isArraySubset:m,getType:e,tryCatchWrapper:b,arrayDelete:l,repeatString:_,padStart:w,padEnd:S,evalVariable:T,evalFunction:O,appendToArray:E}}()},{}],31:[function(e,t,r){"use strict";function n(e,t){return new Error(e+": "+t)}n.ErrorTokens={MISSING_ARGUMENT:1,INVALID_TYPE:2,INVALID_VALUE:3,MISSING_PROPERTY:4,NUMBER_OUT_OF_RANGE:5,EMPTY_ENTITY:6,INTERNAL_ERROR:7,DUPLICATE_ENTITY:8,INVALID_ARGUMENT:9,INVALID_CONFIG:10},t.exports=n},{}],32:[function(e,t,r){"use strict";function n(e){function t(){return __directInterface}var __directInterface;return function(){SpaceCamp.DeviceTypeChecker=i(e.DeviceTypeChecker);for(var t in e.htSlots)if(e.htSlots.hasOwnProperty(t)){var r=o(t,e.htSlots[t]);SpaceCamp.htSlots.push(r),SpaceCamp.htSlotsMap[t]=r}__directInterface={Services:{},Layers:{}};for(var n=0;n<s.length;n++){var c=s[n].name,l=s[n].constructor(e.Services[c]);l&&(SpaceCamp.services[c]=l,l.getDirectInterface&&l.getDirectInterface()&&(__directInterface.Services=a.mergeObjects(__directInterface.Services,l.getDirectInterface())))}for(var f,p=e.Layers.length-1;p>=0;p--){var d=e.Layers[p].layerId,y=u[d](e.Layers[p].configs);y.getDirectInterface()&&(__directInterface.Layers=a.mergeObjects(__directInterface.Layers,y.getDirectInterface())),f&&y.setNext(f.execute),f=y}}(),{getDirectInterface:t}}var i=e(15),o=e(22),SpaceCamp=e(52),a=e(30),s=(e(31),[{name:"EventsService",constructor:e(45)},{name:"GptService",constructor:e(49)},{name:"HeaderStatsService",constructor:e(46)},{name:"TimerService",constructor:e(50)},{name:"ComplianceService",constructor:e(44)},{name:"RenderService",constructor:e(48)},{name:"KeyValueService",constructor:e(47)}]),u={GptLayer:e(3),MediationLayer:e(6),PartnersLayer:e(7),IdentityLayer:e(4)};t.exports=n},{}],33:[function(e,t,r){"use strict";function n(e,t){function r(e){var r;r=t.pageDemandHistory;for(var n in r)r.hasOwnProperty(n)&&(window.googletag.pubads().clearTargeting(n),delete r[n]);r=t.gSlotDemandHistory;for(var i=0;i<e.length;i++)if(e[i].ref){var o=e[i].ref,a=o.getSlotElementId();if(r.hasOwnProperty(a)){for(var s in r[a])r[a].hasOwnProperty(s)&&o.clearTargeting(s);delete r[a]}}}return function(){t.gSlotDemandHistory=t.gSlotDemandHistory||{},t.pageDemandHistory=t.pageDemandHistory||{}}(),{clearTargeting:r}}e(21),e(31);t.exports=n},{}],34:[function(e,t,r){"use strict";function n(e,t){function r(e){return o?o(e):window.googletag.destroySlots(e)}function n(e){for(var n=e||i.getGSlots(),o=0;o<n.length;o++)t.gSlotDisplayHistory.hasOwnProperty(n[o].getSlotElementId())&&delete t.gSlotDisplayHistory[n[o].getSlotElementId()];return r(e)}var o;return function(){t.hasOwnProperty("gSlotDisplayHistory")||(t.gSlotDisplayHistory={});var r=function(){e.override&&e.override.destroySlots&&(o=SpaceCamp.LastLineGoogletag.destroySlots)};SpaceCamp.initQueue.push(r)}(),{destroySlots:n}}var SpaceCamp=e(52),i=e(21);e(31);t.exports=n},{}],35:[function(e,t,r){"use strict";function n(e,t,r){function n(e){return m?m(e):window.googletag.display(e)}function d(e){if(t.requestArchitecture===u.RequestArchitectures.SRA)for(;b.length;){if(!b[0].done)return;var r=b.shift();r.outParcels&&!c.isEmpty(r.outParcels)&&g(r.outParcels),r.parcels&&!c.isEmpty(r.parcels)&&v(r.sessionId,r.parcels),n(r.divOrSlot)}else e.outParcels&&!c.isEmpty(e.outParcels)&&g(e.outParcels),e.parcels&&!c.isEmpty(e.parcels)&&v(e.sessionId,e.parcels),n(e.divOrSlot)}function y(e){var n={done:!1,divOrSlot:e,outParcels:null,parcels:null,sessionId:""};t.requestArchitecture===u.RequestArchitectures.SRA&&b.push(n);var c=null;c=a.isGSlot(e)?e.getSlotElementId():e;var l=a.getGSlotByDivId(c);if(!l)return n.done=!0,d(n),s.resolve();var f=[];f=t.requestArchitecture===u.RequestArchitectures.SRA?a.getGSlots():l?[l]:[];for(var p=f.length-1;p>=0;p--)t.gSlotDisplayHistory.hasOwnProperty(f[p].getSlotElementId())&&f.splice(p,1);if(!f.length)return n.done=!0,d(n),s.resolve();for(var y=[],g=0;g<f.length;g++)y.push({slot:f[g]}),t.gSlotDisplayHistory[f[g].getSlotElementId()]=!0;if(t.initialLoadState===u.InitialLoadStates.DISABLED)return n.done=!0,d(n),s.resolve();var v=h(y);if(n.outParcels=v,!v.length)return o.emit("warning","No valid Header Tag slots found in call to display."),n.done=!0,d(n),s.resolve();var m=t.desktopGlobalTimeout;"mobile"===SpaceCamp.DeviceTypeChecker.getDeviceType()&&(m=t.mobileGlobalTimeout),SpaceCamp.globalTimeout=m;var _=i.createTimer(m,!0);return i.addTimerCallback(_,function(){o.emit("global_timeout_reached",{sessionId:_})}),n.sessionId=_,o.emit("hs_session_start",{sessionId:_}),r(_,v).then(function(e){n.parcels=e,n.done=!0,d(n),o.emit("hs_session_end",{sessionId:_})})}var h,g,v,m,b;return function(){o=SpaceCamp.services.EventsService,i=SpaceCamp.services.TimerService,t.hasOwnProperty("gSlotDisplayHistory")||(t.gSlotDisplayHistory={}),t.hasOwnProperty("requestArchitecture")||(t.requestArchitecture=u.RequestArchitectures.MRA),t.hasOwnProperty("initialLoadState")||(t.initialLoadState=u.InitialLoadStates.ENABLED);var r=function(){e.override&&e.override.display&&(m=SpaceCamp.LastLineGoogletag.display)};SpaceCamp.initQueue.push(r),h=l(e,t).mapHtSlots,g=f(e,t).clearTargeting,v=p(e,t).setTargeting,b=[]}(),{display:y}}var i,o,a=e(21),s=e(18),u=e(14),SpaceCamp=e(52),c=(e(31),e(30)),l=e(36),f=e(33),p=e(39);t.exports=n},{}],36:[function(e,t,r){"use strict";function n(e,t){function r(e){for(var t=[],r=0;r<e.length;r++){var n=e[r].slot,o={reference:n};e[r].firstPartyData&&(o.firstPartyData=e[r].firstPartyData),o.divId=n.getSlotElementId();var u=[],c=n.getSizes(i.getViewportWidth(),i.getViewportHeight())||n.getSizes();if(c){for(var l=0;l<c.length;l++)a.isString(c[l])||u.push([c[l].getWidth(),c[l].getHeight()]);for(var f={},p=n.getTargetingKeys(),d=0;d<p.length;d++)f[p[d]]=n.getTargeting(p[d]).map(function(e){return String(e)});o.sizes=u,o.targeting=f,o.adUnitPath=n.getAdUnitPath(),t.push(o)}}var y=SpaceCamp.htSlots,h=s.filter(y,t);return s.select(h,t)}var n,s;return function(){n=t,s=o(e.slotMapping)}(),{mapHtSlots:r}}var i=e(9),o=(e(21),e(23)),SpaceCamp=e(52),a=e(30);e(31);t.exports=n},{}],37:[function(e,t,r){"use strict";function n(e,t){function r(){return s?s():window.googletag.pubads().enableSingleRequest()}function n(){return u?u():window.googletag.pubads().disableInitialLoad()}function o(){return t.requestArchitecture=i.RequestArchitectures.SRA,r()}function a(){return t.initialLoadState=i.InitialLoadStates.DISABLED,n()}var s,u;return function(){t.requestArchitecture=e.enableSingleRequest?i.RequestArchitectures.SRA:i.RequestArchitectures.MRA,t.initialLoadState=e.disableInitialLoad?i.InitialLoadStates.DISABLED:i.InitialLoadStates.ENABLED;var r=function(){e.override&&(e.override.enableSingleRequest&&(s=SpaceCamp.LastLineGoogletag.enableSingleRequest),e.override.disableInitialLoad&&(u=SpaceCamp.LastLineGoogletag.disableInitialLoad))};SpaceCamp.initQueue.push(r)}(),{enableSingleRequest:o,disableInitialLoad:a}}var SpaceCamp=e(52),i=(e(31),e(14));t.exports=n},{}],38:[function(e,t,r){"use strict";function n(e,t,r){function n(e,t){return g?g(e,t):window.googletag.pubads().refresh(e,t)}function p(e,s){e||(e=a.getGSlots());for(var u=e.slice(),c=e.length-1;c>=0;c--)a.isGSlot(e[c])||e.splice(c,1);if(t.requestArchitecture===l.RequestArchitectures.MRA)for(var p=e.length-1;p>=0;p--)t.gSlotDisplayHistory.hasOwnProperty(e[p].getSlotElementId())||e.splice(p,1);if(!e.length)return n(u,s),f.resolve();for(var g=[],v=0;v<e.length;v++)g.push({slot:e[v]}),t.gSlotDisplayHistory[e[v].getSlotElementId()]=!0;var m=d(g);if(!m.length)return o.emit("warning","No valid Header Tag slots found in call to refresh."),n(u,s),f.resolve();var b=t.desktopGlobalTimeout;"mobile"===SpaceCamp.DeviceTypeChecker.getDeviceType()&&(b=t.mobileGlobalTimeout),SpaceCamp.globalTimeout=b;var _=i.createTimer(b,!0);return i.addTimerCallback(_,function(){o.emit("global_timeout_reached",{sessionId:_})}),o.emit("hs_session_start",{sessionId:_}),r(_,m).then(function(e){y(m),h(_,e),o.emit("hs_session_end",{sessionId:_}),n(u,s)})}var d,y,h,g;return function(){o=SpaceCamp.services.EventsService,i=SpaceCamp.services.TimerService,t.hasOwnProperty("gSlotDisplayHistory")||(t.gSlotDisplayHistory={}),t.hasOwnProperty("requestArchitecture")||(t.requestArchitecture=l.RequestArchitectures.MRA),t.hasOwnProperty("initialLoadState")||(t.initialLoadState=l.InitialLoadStates.ENABLED);var r=function(){e.override&&e.override.refresh&&(g=SpaceCamp.LastLineGoogletag.refresh)};SpaceCamp.initQueue.push(r),d=s(e,t).mapHtSlots,y=u(e,t).clearTargeting,h=c(e,t).setTargeting}(),{refresh:p}}var i,o,a=e(21),SpaceCamp=e(52),s=(e(31),e(36)),u=e(33),c=e(39),l=e(14),f=e(18);t.exports=n},{}],39:[function(e,t,r){"use strict";function n(e,t){function r(e,r){for(var n=0;n<r.length;n++)if(!r[n].pass&&r[n].targeting&&!o.isEmpty(r[n].targeting)){e&&"slot"===r[n].targetingType&&i.emit("hs_slot_kv_pushed",{sessionId:e,statsId:r[n].partnerStatsId,htSlotId:r[n].htSlot.getId(),requestId:r[n].requestId,xSlotNames:[r[n].xSlotName]});var a,s=r[n].targeting;for(var u in s)if(s.hasOwnProperty(u))if("page"===r[n].targetingType)a=t.pageDemandHistory,a[u]=a[u]||{},a[u]=!0,window.googletag.pubads().setTargeting(u,s[u]);else{var c=r[n].ref,l=c.getSlotElementId();a=t.gSlotDemandHistory,a[l]=a[l]||{},a[l][u]=!0,c.setTargeting(u,c.getTargeting(u).concat(s[u]))}}}return function(){i=SpaceCamp.services.EventsService,t.gSlotDemandHistory=t.gSlotDemandHistory||{},t.pageDemandHistory=t.pageDemandHistory||{}}(),{setTargeting:r}}var i,SpaceCamp=(e(21),e(52)),o=e(30);e(31);t.exports=n},{}],40:[function(e,t,r){"use strict";function n(e){function t(e){var t,r="0";h={source:y,uids:[]};for(var n in e)e.hasOwnProperty(n)&&("TDID"===n&&(t=e[n]),"TDID_LOOKUP"===n&&(r="TRUE"===e[n]?"1":"0"),h.uids.push({id:e[n],ext:{rtiPartner:n}}));t&&(v=t+","+r)}function r(){return f.statsId}function n(){return h}function c(){var e={};return v&&(e[f.targetingKeys.exchangeBidding]=v),e}function l(){return new u(function(e){var r=a.getData(g);if(r){i.emit("hs_identity_cached",{statsId:f.statsId});var n;return"match"===r.response?(n="hs_identity_response",t(r.data)):n="pass"===r.response?"hs_identity_pass":"hs_identity_error",i.emit(n,{statsId:f.statsId}),void e()}i.emit("hs_identity_request",{statsId:f.statsId}),s.ajax({url:p,data:{ttd_pid:"casale",fmt:"json",p:d},method:"GET",withCredentials:!0,onSuccess:function(r){var n;try{n=JSON.parse(r)}catch(t){return i.emit("hs_identity_error",{statsId:f.statsId}),a.setData(g,{response:"error"},f.features.identityDataExpiry.error),void e()}if(!n.hasOwnProperty("TDID"))return i.emit("hs_identity_error",{statsId:f.statsId}),a.setData(g,{response:"error"},f.features.identityDataExpiry.error),void e();i.emit("hs_identity_response",{statsId:f.statsId}),t(n),a.setData(g,{response:"match",data:n},f.features.identityDataExpiry.match),e()},onFailure:function(t){i.emit("hs_identity_error",{statsId:f.statsId}),a.setData(g,{response:"error"},f.features.identityDataExpiry.error),e()}})})}if(!s.isXhrSupported())return null;var f,p,d,y,h,g,v;return function(){i=SpaceCamp.services.EventsService,f={partnerId:"AdserverOrgIp",statsId:"ADSORG",version:"1.2.0",features:{identityDataExpiry:{match:6048e5,pass:864e5,error:864e5}},targetingKeys:{exchangeBidding:"ixpid_1"}},p=o.getProtocol()+"//match.adsrvr.org/track/rid",d=e.publisherId,y="adserver.org",g="AdserverOrgIp",h=null,v=""}(),{getStatsId:r,getResults:n,getTargets:c,retrieve:l}}var i,o=e(9),a=e(10),s=e(24),u=e(18),SpaceCamp=e(52);e(31);t.exports=n},{}],41:[function(e,t,r){"use strict";function n(e,t){function r(e,t){var r={match:"hs_identity_response",pass:"hs_identity_pass",error:"hs_identity_error"}[e];i.emit(r,{statsId:b});var n={response:e,data:t},o=v.cacheExpiry[e];a.setData(O,n,o),i.emit("ip_module_result_"+m,e,t),"match"===e&&(w=t),T&&T()}function n(e){var t=a.getData(e);return t&&"match"===t.response&&t.data?t.data:null}function f(e){var t={url:e.url,method:e.method,async:!0,withCredentials:!0,jsonp:!1,continueAfterTimeout:!1,timeout:e.timeout||0};return e.onSuccess&&(t.onSuccess=e.onSuccess),e.onTimeout&&(t.onTimeout=e.onTimeout),e.onFailure&&(t.onFailure=e.onFailure),void 0!==e.data&&(t.data=e.data),void 0!==e.contentType&&(t.contentType=e.contentType),s.ajax(t)}function p(e){S=e}function d(){return b}function y(){return w}function h(){if(S)return S;if(w&&l.isArray(w.uids)&&w.uids.length&&w.uids[0].id){var e={};return e[v.targetingKeys.exchangeBidding]=w.uids[0].id,e}return null}function g(){return new u(function(e){T=e;var t=a.getData(O);if(t)return i.emit("hs_identity_cached",{statsId:b}),void r(t.response,t.data);i.emit("ip_module_retrieve_"+m)})}var v,m,b,_,w,S,T,O;return function(){i=SpaceCamp.services.EventsService,v=e.profile,m=v.partnerId,b=v.statsId,w=null,S=null,T=null,O=m,_={Utilities:{buildUrl:s.buildUrl,getPageUrl:o.getPageUrl,getProtocol:o.getProtocol,getReferrer:o.getReferrer,getTime:c.now,getType:l.getType,isArray:l.isArray,isEmpty:l.isEmpty,isFunction:l.isFunction,isInteger:l.isInteger,isNumeric:l.isNumeric,isString:l.isString,isTopFrame:o.isTopFrame,isXhrSupported:s.isXhrSupported,getIdentityResultFrom:n,ajax:f},onRetrieve:i.on.bind(null,"ip_module_retrieve_"+m),onResult:i.on.bind(null,"ip_module_result_"+m),registerMatch:r.bind(null,"match"),registerPass:r.bind(null,"pass"),registerError:r.bind(null,"error"),registerEbTargeting:p,configs:t},e.main(_)}(),{getStatsId:d,getResults:y,getTargets:h,retrieve:g}}var i,o=e(9),a=e(10),s=e(24),u=e(18),SpaceCamp=e(52),c=e(29),l=e(30);t.exports=n},{}],42:[function(e,t,r){"use strict";function n(t){function r(e){return-1!==e.indexOf("validator.js")?s.noOp:p[e]}function n(){var e=window.adapter.configs,t={exports:{}};window.adapter.bidder(r,t,t.exports),f=t.exports(e)}function u(e,t){return f.retrieve(e,t)}var c,l,f,p={"browser.js":e(9),"cache.js":e(10),"classify.js":e(11),"command-queue.js":e(12),"config-validators.js":e(13),"constants.js":e(14),"device-type-checker.js":e(15),"network.js":e(24),"openrtb.js":e(25),"openrtb2_5.js":e(26),"partner.js":e(43),"scribe.js":e(27),"size.js":e(28),"space-camp.js":e(52),"system.js":e(29),"utilities.js":e(30),"whoopsie.js":e(31)};!function(){c={partnerId:"DynamicPartnerLoader",namespace:"DynamicPartnerLoader",statsId:"DYNLDR",version:"1.0.0",targetingType:"slot",enabledAnalytics:{requestTime:!0},features:{demandExpiry:{enabled:!1,value:0},rateLimiting:{enabled:!1,value:0}},targetingKeys:{id:"ix_dyn_id",om:"ix_dyn_cpm",pm:"ix_dyn_cpm",pmid:"ix_dyn_dealid"},bidUnitInCents:1,lineItemType:o.LineItemTypes.ID_AND_SIZE,callbackType:a.CallbackTypes.ID,architecture:a.Architectures.SRA,requestType:a.RequestTypes.ANY},n();var e=f.getPartnerId();window.googletag.pubads().setTargeting("PARTNER_ID",e),c.namespace=e,l=a(c,t,null,{retriever:u});var r=f.getDirectInterface();if(r.hasOwnProperty(e))for(var i in r[e])r[e].hasOwnProperty(i)&&l._addToDirectInterface(i,r[e][i])}();var d={};return i.derive(l,d)}var i=e(11),o=e(14),a=e(43),s=e(29);t.exports=n},{}],43:[function(e,t,r){"use strict";function n(e,t,r,y){function h(e){return function(t){C[e]=t,delete U[e]}}function g(e,t,r){for(var n in r)if(r.hasOwnProperty(n))for(var o in r[n])r[n].hasOwnProperty(o)&&r[n][o].length&&i.emit(t,{sessionId:e,statsId:x.statsId,htSlotId:n,requestId:o,xSlotNames:r[n][o]})}function v(e,r){var n={};return"price"===e&&(n={outputCentsDivisor:1,outputPrecision:0,roundingType:"NONE"}),d.mergeObjects(N[e],{bidUnitInCents:x.bidUnitInCents},r||{},t.bidTransformer||{},n)}function m(e){var t=[];x.architecture===n.Architectures.FSRA&&t.push([]);for(var r={},i=0;i<e.length;i++){var o=e[i].htSlot.getName();if(k.mapping.hasOwnProperty(o))for(var a="_"+p.generateUniqueId(),s=0;s<k.mapping[o].length;s++){var u={},c=k.mapping[o][s];u.partnerId=x.partnerId,u.partnerStatsId=x.statsId,u.htSlot=e[i].htSlot,u.ref=e[i].ref,u.xSlotRef=k.xSlots[c],u.xSlotName=c,u.requestId=a,e[i].firstPartyData&&(u.firstPartyData=e[i].firstPartyData),e[i].identityData&&(u.identityData=e[i].identityData),x.architecture===n.Architectures.MRA?t.push([u]):x.architecture===n.Architectures.FSRA?t[0].push(u):(r.hasOwnProperty(c)||(r[c]=0),t.length<r[c]+1&&t.push([]),t[r[c]].push(u),r[c]++)}}return t}function b(e,t){if(0===t.length)return f.resolve([]);G.keyValues=a.getDefaultKeyValueData(),a.hasKeyValueAccess(x.partnerId)&&(G.keyValues=a.getKeyValueData());var r=R(t,G);if(d.isEmpty(r))return f.resolve([]);x.callbackType===n.CallbackTypes.CALLBACK_NAME&&(U[r.callbackId]=h(r.callbackId));var o={};if(x.enabledAnalytics.requestTime){for(var s=0;s<t.length;s++){var u=t[s],c=u.htSlot.getId(),p=u.requestId;o.hasOwnProperty(c)||(o[c]={}),o[c].hasOwnProperty(p)||(o[c][p]=[]),o[c][p].push(u.xSlotName)}g(e,"hs_slot_request",o)}return new f(function(a){i.emit("partner_request_sent",{partner:x.partnerId});var s,u,c={url:r.url,data:r.data,method:"GET",timeout:k.timeout,withCredentials:!0,jsonp:!0,sessionId:e,globalTimeout:!0,continueAfterTimeout:!0,onSuccess:function(u,c,l){var f,p="success";try{x.callbackType===n.CallbackTypes.NONE?f=JSON.parse(u):(u&&eval.call(null,u),f=C[r.callbackId],delete C[r.callbackId]),l&&!x.parseAfterTimeout||j(e,f,t,o,s,c,l)}catch(t){i.emit("internal_error",x.partnerId+" error parsing demand: "+t,t.stack),p="error",x.enabledAnalytics.requestTime&&!l&&g(e,"hs_slot_error",o)}i.emit("partner_request_complete",{sessionId:e,partner:x.partnerId,status:p}),a(t)},onTimeout:function(){i.emit("partner_request_complete",{sessionId:e,partner:x.partnerId,status:"timeout"}),x.enabledAnalytics.requestTime&&g(e,"hs_slot_timeout",o),a(t)},onFailure:function(){i.emit("partner_request_complete",{sessionId:e,partner:x.partnerId,status:"error"}),x.enabledAnalytics.requestTime&&g(e,"hs_slot_error",o),a(t)}};u=r.networkParamOverrides?d.mergeObjects(c,r.networkParamOverrides):c,x.callbackType!==n.CallbackTypes.NONE&&x.requestType!==n.RequestTypes.AJAX||(u.jsonp=!1),s=x.requestType===n.RequestTypes.JSONP?l.jsonp(u):l.ajax(u)})}function _(e){q.push(e)}function w(){return P}function S(e){__directInterface={},__directInterface[x.namespace]=e}function T(e,t){__directInterface[x.namespace][e]=t}function O(){return x.partnerId}function E(){return __directInterface}function I(){return x.features.prefetchDisabled&&x.features.prefetchDisabled.enabled}function L(e,t){if(t=t.slice(),k.rateLimiting.enabled){var r=p.now();if("page"===x.targetingType){if(r<=D)return[];D=r+k.rateLimiting.value}else for(var n=t.length-1;n>=0;n--){var i=t[n].htSlot.getName();F.hasOwnProperty(i)&&r<=F[i]?t.splice(n,1):F[i]=r+k.rateLimiting.value}}if(!t.length)return[];if(A)return A(e,t);for(var o=m(t),a=[],s=0;s<o.length;s++)a.push(b(e,o[s]));return a}var x,P,D,F,__directInterface,A,R,j,N,k,q,C,M,z,U,G={keyValues:{}};return function(){if(i=SpaceCamp.services.EventsService,o=SpaceCamp.services.RenderService,a=SpaceCamp.services.KeyValueService,N={targeting:{bidUnitInCents:1,outputCentsDivisor:1,outputPrecision:0,roundingType:"FLOOR",floor:0,buckets:[{max:2e3,step:5},{max:5e3,step:100}]},price:{bidUnitInCents:1}},x=e,D=0,F={},q=[],U={},C={},k={timeout:0,lineItemType:e.lineItemType,targetingKeys:e.targetingKeys,rateLimiting:e.features.rateLimiting},t.hasOwnProperty("timeout")&&t.timeout>0&&(k.timeout=t.timeout,i.emit("hs_define_partner_timeout",{timeout:k.timeout,statsId:x.statsId})),t.hasOwnProperty("targetingKeyOverride"))for(var p in t.targetingKeyOverride)t.targetingKeyOverride.hasOwnProperty(p)&&k.targetingKeys.hasOwnProperty(p)&&(k.targetingKeys[p]=t.targetingKeyOverride[p]);if(t.hasOwnProperty("rateLimiting")&&(t.rateLimiting.hasOwnProperty("enabled")&&(k.rateLimiting.enabled=t.rateLimiting.enabled),t.rateLimiting.value&&(k.rateLimiting.value=t.rateLimiting.value)),t.hasOwnProperty("lineItemType")&&(k.lineItemType=c.LineItemTypes[t.lineItemType]),k.xSlots=t.xSlots,k.mapping=t.mapping,P=!1,r){d.isArray(r)||(r=[r]);var h=[];r.map(function(e){var t=f.defer();h.push(t.promise),l.jsonp({url:e,onSuccess:function(){t.resolve()}})}),f.all(h).then(function(){P=!0,i.emit("partner_instantiated",{partner:x.partnerId}),q=u(q)})}else i.emit("partner_instantiated",{partner:x.partnerId}),P=!0;o.registerPartner(x.partnerId,k.lineItemType,k.targetingKeys.id),M={},e.hasOwnProperty("bidUnitInCents")&&(M.targeting=s(v("targeting")),M.price=s(v("price"))),y.retriever?A=y.retriever:(j=y.parseResponse,R=y.generateRequestObj,z=y.adResponseCallback),__directInterface={},__directInterface.hasOwnProperty(x.namespace)||(__directInterface[x.namespace]={}),x.callbackType===n.CallbackTypes.ID?__directInterface[x.namespace].adResponseCallback=z:__directInterface[x.namespace].adResponseCallbacks=U}(),{_configs:k,_adResponseStore:C,_bidTransformers:M,_setDirectInterface:S,_addToDirectInterface:T,_generateReturnParcels:m,_emitStatsEvent:g,_pushToCommandQueue:_,_generateBidTransformerConfig:v,getPartnerId:O,getDirectInterface:E,getPrefetchDisabled:I,isReady:w,retrieve:L}}var i,o,a,s=e(8),u=e(12),c=e(14),l=e(24),f=e(18),SpaceCamp=e(52),p=e(29),d=e(30);e(31);n.Architectures={MRA:0,SRA:1,FSRA:2},n.CallbackTypes={ID:0,CALLBACK_NAME:1,NONE:2},n.RequestTypes={ANY:0,AJAX:1,JSONP:2},t.exports=n},{}],44:[function(e,t,r){"use strict";function n(e){function t(e){e.hasOwnProperty("gdprApplies")&&"boolean"===u.getType(e.gdprApplies)?m=e.gdprApplies:e.hasOwnProperty("isUserInEu")&&"boolean"===u.getType(e.isUserInEu)&&(m=e.isUserInEu),e.hasOwnProperty("consentData")&&"string"===u.getType(e.consentData)&&(b=e.consentData)}function r(e){if(!L){var r=u.getType(e);"undefined"!==r&&(L=!0,"string"===r?b=e:"object"===r&&t(e),O.resolve())}}function n(e,t){return function(){if(e)try{window.__cmp("getConsentData",null,r)}catch(e){}if(t)try{I(r)}catch(e){}}}function l(e){try{var t;if(t="string"===u.getType(e.data)?JSON.parse(e.data):e.data,!t.hasOwnProperty("__cmpReturn")||"object"!==u.getType(t.__cmpReturn))return;var n=t.__cmpReturn;n.callId===x&&(r(n.returnValue,n.success),window.removeEventListener("message",l,!1))}catch(e){}}function f(e){m=e}function p(){return{applies:m,consentString:b}}function d(){return!0}function y(e){return function(){w!==S.COMPLETE&&E&&c.startTimer(E);var t=arguments;_.push(function(){e.apply(null,t)})}}function h(){if(w===S.NOT_STARTED){O=a.defer(),w=S.IN_PROGRESS,O.promise.then(function(){_=o(_),w=S.COMPLETE});var e=!1,t=!1,r=!1;if(window.__cmp&&"function"===u.getType(window.__cmp)&&(t=!0),I&&(r=!0),t||r){e=!0;var f=n(t,r);if(f(),T>0){var p=window.setInterval(f,v);O.promise.then(function(){window.clearInterval(p)})}}else{var d=i.traverseContextTree(function(e){return e.__cmpLocator?e:null});if(d){e=!0,x=s.generateUniqueId();var y={__cmpCall:{command:"getConsentData",parameter:null,callId:x}};window.addEventListener("message",l,!1),d.postMessage(JSON.stringify(y),"*"),d.postMessage(y,"*")}}if(!e)return void O.resolve();0===T?O.resolve():E||(E=c.createTimer(T,!1,function(){O.resolve()}))}}function g(){return w===S.NOT_STARTED&&h(),w!==S.COMPLETE&&E&&c.startTimer(E),O.promise}var v=250,m,b,_,w,S={NOT_STARTED:0,IN_PROGRESS:1,COMPLETE:2},T,O,E,I,L,x=0;return function t(){if(c=SpaceCamp.services.TimerService,m=e.gdprAppliesDefault,b="",_=[],T=e.timeout,w=S.NOT_STARTED,L=!1,e.customFn)try{I=eval(e.customFn),"function"!==u.getType(I)&&(I=null)}catch(e){I=null}else I=null;h()}(),{gdpr:{getConsent:p,setApplies:f},isPrivacyEnabled:d,delay:y,wait:g}}var i=e(9),o=e(12),a=e(18),SpaceCamp=e(52),s=e(29),u=e(30),c;t.exports=n},{}],45:[function(e,t,r){"use strict";function n(){function e(e,t,r){a.hasOwnProperty(e)||(a[e]=[]);var n=i.generateUniqueId();return a[e].push({id:n,fn:r,once:t}),n}function t(t,r){return e(t,!1,r)}function r(t,r){return e(t,!0,r)}function n(e){for(var t in a)if(a.hasOwnProperty(t))for(var r=a[t].length-1;r>=0;r--)if(a[t][r].id===e)return void a[t].splice(r,1)}function o(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(t&&a.hasOwnProperty(t))for(var r=a[t].length-1;r>=0;r--){try{a[t][r].fn.apply(null,e)}catch(e){}a[t][r].once&&a[t].splice(r,1)}}var a;return function(){a={}}(),{on:t,once:r,off:n,emit:o}}var i=e(29);e(31);t.exports=n},{}],46:[function(e,t,r){"use strict";function n(e){function t(e){var t={auction_cycle:"ac",global_timeout:"gt",bid_requests:"brq",bid_responses:"brs",bid_errors:"be",bid_passes:"bp",bid_timeouts:"bt",dfp_kv_pushed:"kv",top_bid:"tb",prefetch:"p",res_latency:"rl",partner_timeout:"pt"};return t.hasOwnProperty(e)?t[e]:e}function r(){if(u.isEmpty(L))return[];var e={s:"identity",t:F,xslots:{}};for(var r in L)if(L.hasOwnProperty(r)){e.xslots.hasOwnProperty(r)||(e.xslots[r]={});for(var n=0;n<L[r].length;n++){var i=L[r][n];"bid_requests"!==i.n&&"res_latency"!==i.n||(i.v=String(i.v)),e.xslots[r].hasOwnProperty(i.x)||(e.xslots[r][i.x]={});var o=t(i.n);e.xslots[r][i.x][o]=i.v}P.hasOwnProperty(r)&&!1!==P[r]||(e.xslots[r].before[t("partner_timeout")]=x,P[r]=!0)}return L={},[e]}function n(e,t){u.isEmpty(L)&&(F=s.now());var r=t.statsId;L[r]=L[r]||[];var n={b:r,x:A?"after":"before"};"hs_identity_request"===e?(n.n="bid_requests",n.v=1,D[r]=s.now()):"hs_identity_cached"===e?(n.n="bid_requests",n.v=0):"hs_identity_response"===e?(n.n="bid_responses",n.v=1):"hs_identity_error"===e?(n.n="bid_errors",n.v=1):"hs_identity_pass"===e?(n.n="bid_passes",n.v=1):"hs_identity_timeout"===e?(n.n="bid_timeouts",n.v=1):"hs_identity_bid_latency"===e&&(n.n="res_latency",n.v=s.now()-D[r]),L[r].push(n)}function c(e,r){var n=[],i="",o="";for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u={s:s.s,t:s.t,xslots:{}};for(o in s.events)if(s.events.hasOwnProperty(o)){for(var c in s.events[o])if(s.events[o].hasOwnProperty(c))for(i in s.events[o][c])if(s.events[o][c].hasOwnProperty(i)){var l=s.events[o][c][i],f=l.v,p=t(c);"res_latency"===l.n&&(l.v=String(l.v)),u.xslots.hasOwnProperty(o)||(u.xslots[o]={}),u.xslots[o].hasOwnProperty(i)||(u.xslots[o][i]={}),u.xslots[o][i][p]=f}for(i in u.xslots[o])u.xslots[o].hasOwnProperty(i)&&E.hasOwnProperty(o)&&(u.xslots[o][i][t("partner_timeout")]=E[o])}n.push(u)}return n}function l(e){if(O.hasOwnProperty(e)&&O[e]!==R.IPR&&O[e]!==R.SENT){var n={p:"display",d:SpaceCamp.DeviceTypeChecker.getDeviceType(),c:y,s:e,w:g,t:s.now(),pg:{t:v,e:w[e]}};n[t("global_timeout")]=String(SpaceCamp.globalTimeout),h.auctionCycle&&(n.ac=_[e]),n.sl=u.mergeArrays(c(e,S[e]),r()),n.akamaiDebugInfo=T[e],delete T[e],delete w[e],delete S[e];var i=a.buildUrl(p,null,{s:d,u:o.getPageUrl(),v:3});a.ajax({method:"POST",url:i,data:n}),O[e]=R.SENT}}function f(e,t){var r=t.sessionId,n=t.htSlotId,o=t.statsId,a=t.xSlotNames,u=t.requestId||"";if(O.hasOwnProperty(r)&&O[r]!==R.DONE&&O[r]!==R.SENT){S[r].hasOwnProperty(n)||(S[r][n]={s:n,t:s.now(),events:{}}),S[r][n].events.hasOwnProperty(o)||(S[r][n].events[o]={}),S[r][n].events[o].hasOwnProperty(e)||(S[r][n].events[o][e]={});for(var c=S[r][n].events[o][e],l=0;l<a.length;l++){var f=a[l],p=r+o+n+f+u;if(!I[p]){"bid_timeouts"===e&&(I[p]=!0),c.hasOwnProperty(f)||(c[f]={n:e,v:0,b:o,x:f});var d=c[f];if("res_latency"===e){var y=s.now()-m[p];delete m[p],(!d.v||d.v>y)&&(d.v=y)}else"prefetch"===e?d.v=1:d.v++;"bid_requests"===e?m[p]=s.now():"bid_responses"===e&&i.emit("hs_slot_valid_bid_latency",t)}}}}if(!a.isXhrSupported())return null;var p,d,y,h,g,v,m,b,_,w,S,T,O,E,I,L,x,P,D,F,A,R={IPR:0,DONE:1,SENT:2},j={hs_session_start:function(e){var t=e.sessionId;O.hasOwnProperty(t)||(O[t]=R.IPR,b[t]=s.now(),w[t]=[],S[t]={})},hs_session_end:function(e){var t=e.sessionId;O.hasOwnProperty(t)&&O[t]!==R.DONE&&(_[t]=String(s.now()-b[t]),delete b[t],setTimeout(function(){O[t]=R.DONE,l(t)},0))},hs_akamai_debug:function(e){var t=e.sessionId;T[t]={},T[t].hostname=e.hostname,e.hasOwnProperty("requestHost")&&(T[t].requestHost=e.requestHost),e.hasOwnProperty("akamaiPresent")&&(T[t].akamaiPresent=e.akamaiPresent)},hs_slot_request:function(e){f("bid_requests",e)},hs_slot_bid:function(e){f("bid_responses",e)},hs_slot_pass:function(e){f("bid_passes",e)},hs_slot_timeout:function(e){f("bid_timeouts",e)},hs_slot_error:function(e){f("bid_errors",e)},hs_slot_highest_bid:function(e){f("top_bid",e)},hs_slot_valid_bid_latency:function(e){f("res_latency",e)},hs_slot_kv_pushed:function(e){f("dfp_kv_pushed",e)},hs_slot_prefetch:function(e){f("prefetch",e)},hs_define_partner_timeout:function(e){E[e.statsId]=String(e.timeout)},hs_identity_request:function(e){n("hs_identity_request",e)},hs_identity_cached:function(e){n("hs_identity_cached",e)},hs_identity_response:function(e){n("hs_identity_response",e),i.emit("hs_identity_bid_latency",e)},hs_identity_error:function(e){n("hs_identity_error",e),i.emit("hs_identity_bid_latency",e)},hs_identity_pass:function(e){n("hs_identity_pass",e),i.emit("hs_identity_bid_latency",e)},hs_identity_bid_latency:function(e){u.isNumber(D[e.statsId])&&n("hs_identity_bid_latency",e)},hs_identity_timeout:function(e){n("hs_identity_timeout",e),A=!0},hs_define_identity_timeout:function(e){x=String(e.timeout)}};return function(){i=SpaceCamp.services.EventsService,v=s.now(),p=o.getProtocol("http://as","https://as-sec")+".casalemedia.com/headerstats",d=e.siteId,y=e.configId,h=e.options,g=d+s.now(),g+=s.generateUniqueId(32-g.length),SpaceCamp.instanceId=g,O={},w={},S={},T={},m={},b={},_={},E={},I={},L={},D={},A=!1,P={};for(var t in j)j.hasOwnProperty(t)&&SpaceCamp.services.EventsService.on(t,j[t])}(),{}}var i,o=e(9),a=e(24),SpaceCamp=e(52),s=e(29),u=e(30);e(31);t.exports=n},{}],47:[function(e,t,r){"use strict";function n(){function e(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function t(){return i.deepCopy(s)}function r(){return i.deepCopy(u)}function n(){return!0}function o(t){return!!e(t)&&(u.site=i.deepCopy(t),!0)}function a(t){return!!e(t)&&(u.user=i.deepCopy(t),!0)}var s={site:{},user:{}},u={};return function(){u=i.deepCopy(s)}(),{getDefaultKeyValueData:t,getKeyValueData:r,hasKeyValueAccess:n,setSiteKeyValueData:o,setUserKeyValueData:a}}var i=e(30);t.exports=n},{}],48:[function(e,t,r){"use strict";function n(e){function t(e,t,r,n){if(e.hasOwnProperty(t)&&e[t].hasOwnProperty(r)){
for(var i=null,o=0;o<n.length;o++){var a=n[o];e[t][r].hasOwnProperty(a)&&(i=e[t][r][a])}return i}}function r(e){return!!m.hasOwnProperty(e)&&(b[e]=!0,delete m[e],!0)}function n(){var e=s.now();for(var t in m)m.hasOwnProperty(t)&&m[t].timeOfExpiry&&e>m[t].timeOfExpiry&&r(t)}function l(e){var t;do{t=s.generateUniqueId(o.PUBKIT_AD_ID_LENGTH,"ALPHANUM")}while(m.hasOwnProperty[t]);return m[t]=e,t}function f(e){if(m.hasOwnProperty(e)&&m[e].timeOfExpiry&&s.now()>m[e].timeOfExpiry&&r(e),b[e])return i.emit("internal_info","Attempted to render expired ad "+e),null;if(!m.hasOwnProperty(e))throw c("INVALID_VALUE","`pubKitAdId` does not match any registered ad");var t=m[e];return r(e),t}function p(e){if(e.auxFn)try{e.auxFn.apply(null,e.auxArgs)}catch(e){i.emit("internal_error","Error occurred running ad aux function.",e.stack)}}function d(e,t){var r=f(t);if(!r)return!1;p(r);try{s.documentWrite(e,r.adm)}catch(e){return i.emit("internal_error",'Error occurred while rendering ad "'+t+'".',e.stack),!1}return!0}function y(e){var t=l(e);if(e.price||e.dealId){var r=e.partnerId,n=e.requestId;if(S.hasOwnProperty(r)){var i;i=u.isString(e.size)?e.size:a.arrayToString(e.size),a.isSpecialSize(i)&&(I[n]=i),T[r]||(T[r]={}),T[r][i]||(T[r][i]={}),T[r][i][n]||(T[r][i][n]=[]),T[r][i][n].push(t);var o=e.price;o&&(O[r]||(O[r]={}),O[r][o]||(O[r][o]={}),O[r][o][n]||(O[r][o][n]=[]),O[r][o][n].push(t));var s=e.dealId;return s&&(E[r]||(E[r]={}),E[r][s]||(E[r][s]={}),E[r][s][n]||(E[r][s][n]=[]),E[r][s][n].push(t)),t}}}function h(e,t,r,n,o){try{if(!T.hasOwnProperty(e))return void i.emit("internal_error","Partner "+e+" missing from ad ID map.");if(!u.isObject(r))return void i.emit("internal_error","invalid targeting map");if(!r.hasOwnProperty(S[e].idKey))return void i.emit("internal_error","targeting map missing key "+S[e].idKey);var a=r[S[e].idKey];if(!u.isArray(a))return void i.emit("internal_error","invalid targeting map");if(!u.isNumeric(n))return void i.emit("internal_error","invalid width");if(!u.isNumeric(o))return void i.emit("internal_error","invalid height");var s=n+"x"+o;if(w&&w.hasOwnProperty(s)){var c=w[s];s=c[0]+"x"+c[1]}for(var l=0;l<a.length;l++){var f=a[l],p=I[f]||s;if(!T[e].hasOwnProperty(p))return void i.emit("internal_error","Size key "+p+" missing from ad ID map for partner "+e);if(T[e][p].hasOwnProperty(f)){var y=T[e][p][f];if(y.length){d(t,u.randomSplice(y));break}}}}catch(t){i.emit("internal_error",'Error occurred while rendering ad for "'+e+'".',t.stack)}}function g(e,r){if(void 0!==e.partner&&void 0!==e.id&&void 0!==e.targeting&&(void 0!==e.size||void 0!==e.price)){var n=e.partner,o=e.price,s=e.id,c=e.targeting,l=e.size;if(S[n]){if(!c.hasOwnProperty(S[n].idKey))return void i.emit("internal_error","targeting map missing key "+S[n].idKey);var d=c[S[n].idKey],y=null;if(void 0!==o)for(var h=[E,O],g=0;g<h.length&&!(y=t(h[g],n,o,d));g++);else{if(!a.isSize(l))return;var v=a.arrayToString(l);if(w&&w.hasOwnProperty(v)){var m=w[v];v=a.arrayToString(m)}y=t(T,n,v,d)}if(y){var b=u.randomSplice(y),_=f(b);if(!_)return void i.emit("internal_error","No ad found for ad ID "+b);p(_);for(var I,L=_.size,x=_.adm,P=document.getElementsByTagName("iframe"),D=0;D<P.length;D++)if(P[D].contentWindow===r){I=P[D];break}I&&(I.width=String(L[0]),I.height=String(L[1]),""!==I.parentElement.style.width&&""!==I.parentElement.style.height&&(I.parentElement.style.width=L[0]+"px",I.parentElement.style.height=L[1]+"px")),r.postMessage("ix_ht_render_adm:"+JSON.stringify({adm:x,id:s,size:L}),"*")}}}}function v(e,t,r){S.hasOwnProperty(e)||(S[e]={}),S[e].lineItemType=t,S[e].idKey=r}var m,b,_,w,S={},T={},O={},E={},I={};return function(){m={},b={},w=e.sizeRetargeting||null,_=setInterval(n,o.RENDER_SERVICE_EXPIRY_SWEEP_TIMER),i=SpaceCamp.services.EventsService,window.addEventListener("message",function(e){try{if(!u.isString(e.data)||"ix_ht_render:"!==e.data.substr(0,"ix_ht_render:".length))return;g(JSON.parse(e.data.substr("ix_ht_render:".length)),e.source,e.origin)}catch(e){i.emit("internal_error","Error occurred while rendering ad.",e.stack)}},!1)}(),{registerAd:y,render:d,registerPartner:v,renderDfpAd:h}}var i,o=e(14),a=e(28),SpaceCamp=e(52),s=e(29),u=e(30),c=e(31);t.exports=n},{}],49:[function(e,t,r){"use strict";e(29);t.exports=function(){return{}}},{}],50:[function(e,t,r){"use strict";function n(){function e(e){return function(){u[e].state=c.TERMINATED;for(var t=0;t<u[e].cbs.length;t++)try{u[e].cbs[t]()}catch(e){}delete u[e].cbs,delete u[e].timer}}function t(t,r,n){var a=o.generateUniqueId(i.SESSION_ID_LENGTH);return r=!!r,n=n?[n]:[],u[a]={state:c.NEW,cbs:n,timeout:t},r&&(u[a].state=c.RUNNABLE,u[a].timer=setTimeout(e(a),t)),a}function r(t){u.hasOwnProperty(t)&&u[t].state===c.NEW&&(u[t].state=c.RUNNABLE,u[t].timer=setTimeout(e(t),u[t].timeout))}function n(e,t){u.hasOwnProperty(e)&&u[e].state!==c.TERMINATED&&u[e].cbs.unshift(t)}function a(e){return u.hasOwnProperty(e)?u[e].state:null}function s(e){u.hasOwnProperty(e)&&u[e].state!==c.TERMINATED&&(u[e].state=c.TERMINATED,clearTimeout(u[e].timer),delete u[e].cbs,delete u[e].timer)}var u,c={NEW:0,RUNNABLE:1,TERMINATED:2};return function(){u={}}(),{TimerStates:c,createTimer:t,startTimer:r,addTimerCallback:n,getTimerState:a,clearTimer:s}}var i=e(14),o=e(29);e(31);t.exports=n},{}],51:[function(e,t,r){"use strict";function n(){function e(e){return SpaceCamp.LastLineGoogletag.display?SpaceCamp.LastLineGoogletag.display(e):window.googletag.display(e)}function t(e,t){return SpaceCamp.LastLineGoogletag.refresh?SpaceCamp.LastLineGoogletag.refresh(e,t):window.googletag.pubads().refresh(e,t)}function r(e){return SpaceCamp.LastLineGoogletag.destroySlots?SpaceCamp.LastLineGoogletag.destroySlots(e):window.googletag.destroySlots(e)}function n(){return SpaceCamp.LastLineGoogletag.enableSingleRequest?SpaceCamp.LastLineGoogletag.enableSingleRequest():window.googletag.pubads().enableSingleRequest()}function i(){return SpaceCamp.LastLineGoogletag.disableInitialLoad?SpaceCamp.LastLineGoogletag.disableInitialLoad():window.googletag.pubads().disableInitialLoad()}function f(t){try{if(!s.isString(t)&&!u.isGSlot(t))return l.emit("error","divOrSlot must be a string or valid gslot object"),e(t);__directInterface.Layers.GptLayer.display(t).catch(function(r){return l.emit("error",r),e(t)})}catch(r){return l.emit("error",r),e(t)}}function p(e,r){try{if(e&&!s.isArray(e))return l.emit("error","gSlots must be an array of g-slots."),t(e,r);__directInterface.Layers.GptLayer.refresh(e,r).catch(function(n){return l.emit("error",n),t(e,r)})}catch(n){return l.emit("error",n),t(e,r)}}function d(e,t){var n=!1;!t&&s.isFunction(e)&&(t=e,e=void 0);try{if(e&&!s.isArray(e)?(l.emit("error","gSlots must be an array of g-slots."),n=r(e)):n=__directInterface.Layers.GptLayer.destroySlots(e),s.isFunction(t))return t(n),n}catch(i){if(l.emit("error",i),n=n||r(e),s.isFunction(t))try{return t(n),n}catch(e){l.emit("error",e)}}return n}function y(){try{return __directInterface.Layers.GptLayer.enableSingleRequest()}catch(e){return l.emit("error",e),n()}}function h(){try{return __directInterface.Layers.GptLayer.disableInitialLoad()}catch(e){return l.emit("error",e),i()}}function g(){return T}function v(e){if(!s.isObject(e))return void l.emit("error","invalid first-party data: `data` must be an object");if(e.hasOwnProperty("rubicon")){if(!s.isObject(e.rubicon))return void l.emit("error","invalid first-party data.rubicon");for(var t in e.rubicon)if(e.rubicon.hasOwnProperty(t)&&-1===["keywords","inventory","visitor"].indexOf(t))return void l.emit("error","invalid first-party data: unrecognized property "+t+" of `data.rubicon`");if(e.rubicon.hasOwnProperty("keywords")&&!s.isArray(e.rubicon.keywords,"string"))return void l.emit("error","invalid first-party data: `data.rubicon.keywords` must be an array of strings");if(e.rubicon.hasOwnProperty("inventory")){if(!s.isObject(e.rubicon.inventory))return void l.emit("error","invalid first-party data: `data.rubicon.inventory` must be an object");for(var r in e.rubicon.inventory)if(e.rubicon.inventory.hasOwnProperty(r)&&!s.isArray(e.rubicon.inventory[r],"string"))return void l.emit("error","invalid first-party data: property "+r+" of `data.rubicon.inventory` must be an array of strings")}if(e.rubicon.hasOwnProperty("visitor")){if(!s.isObject(e.rubicon.visitor))return void l.emit("error","invalid first-party data: `data.rubicon.visitor` must be an object");for(var n in e.rubicon.visitor)if(e.rubicon.visitor.hasOwnProperty(n)&&!s.isArray(e.rubicon.visitor[n],"string"))return void l.emit("error","invalid first-party data: property "+n+" of `data.rubicon.visitor` must be an array of strings")}}try{__directInterface.Layers.PartnersLayer.setFirstPartyData(e)}catch(e){l.emit("error",e)}}function m(e,t,r){var n="";try{if(!s.isBoolean(t))return l.emit("error","`once` must be a boolean"),n;if(!s.isFunction(r))return l.emit("error","`callback` must be a function"),n;if(!s.isString(e))return l.emit("error","`eventName` must be a string"),n;if(!O.hasOwnProperty(e))return l.emit("error","Unrecognized event "+e),n;var i=function(){var t=Array.prototype.slice.call(arguments);r(e,JSON.stringify(t))};n=t?l.once(e,i):l.on(e,i)}catch(e){l.emit("error",e)}return n}function b(e){try{if(!s.isString(e))return void l.emit("error","`subscriptionId` must be a string");l.off(e)}catch(e){l.emit("error",e)}}function _(){return __directInterface.Layers.IdentityLayer.getIdentityResults()}var w,__directInterface,S,T,O={error:1,warning:2,global_timeout_reached:3,partner_instantiated:4,partner_request_sent:5,partner_request_complete:6};if(function(){SpaceCamp.LastLineGoogletag={};try{w=window.wrapper.configs,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],__directInterface=a(w).getDirectInterface(),c=SpaceCamp.services.ComplianceService,l=SpaceCamp.services.EventsService;var u=w.Layers[0].configs.override;if(u){var g=function(){u.display&&(SpaceCamp.LastLineGoogletag.display=window.googletag.display,window.googletag.display=c.delay(f)),u.refresh&&(SpaceCamp.LastLineGoogletag.refresh=window.googletag.pubads().refresh.bind(window.googletag.pubads()),window.googletag.pubads().refresh=c.delay(p)),u.destroySlots&&(SpaceCamp.LastLineGoogletag.destroySlots=window.googletag.destroySlots,window.googletag.destroySlots=c.delay(d)),u.enableSingleRequest&&(SpaceCamp.LastLineGoogletag.enableSingleRequest=window.googletag.pubads().enableSingleRequest.bind(window.googletag.pubads()),window.googletag.pubads().enableSingleRequest=y),u.disableInitialLoad&&(SpaceCamp.LastLineGoogletag.disableInitialLoad=window.googletag.pubads().disableInitialLoad.bind(window.googletag.pubads()),window.googletag.pubads().disableInitialLoad=h)};SpaceCamp.initQueue.unshift(g);var v=function(){SpaceCamp.initQueue=o(SpaceCamp.initQueue)};s.isArray(window.googletag.cmd)?window.googletag.cmd.unshift(v):window.googletag.cmd.push(v)}T={refresh:c.delay(p),enableSingleRequest:y,disableInitialLoad:h};try{__directInterface.Layers.IdentityLayer.retrieve()}catch(e){}}catch(o){S={display:e,destroySlots:r,pubads:function(){return{refresh:t,enableSingleRequest:n,disableInitialLoad:i}},setFirstPartyData:function(){},subscribeEvent:function(){return""},unsubscribeEvent:function(){}}}}(),S)return S;var shellInterface={};if(window[SpaceCamp.NAMESPACE])for(var E in window[SpaceCamp.NAMESPACE])window[SpaceCamp.NAMESPACE].hasOwnProperty(E)&&(shellInterface[E]=window[SpaceCamp.NAMESPACE][E]);shellInterface.display=c.delay(f),shellInterface.refresh=c.delay(p),shellInterface.destroySlots=c.delay(d),shellInterface.enableSingleRequest=y,shellInterface.disableInitialLoad=h,shellInterface.pubads=g,shellInterface.setFirstPartyData=v,shellInterface.subscribeEvent=m,shellInterface.unsubscribeEvent=b,shellInterface.apiReady=!0,shellInterface.setSiteKeyValueData=SpaceCamp.services.KeyValueService.setSiteKeyValueData,shellInterface.setUserKeyValueData=SpaceCamp.services.KeyValueService.setUserKeyValueData,shellInterface.getIdentityInfo=_;try{eval(window.adapter.exports)}catch(e){}return shellInterface}var i=e(9),o=e(12),a=e(32),SpaceCamp=e(52),s=e(30),u=e(21),c,l;window[SpaceCamp.NAMESPACE]=window[SpaceCamp.NAMESPACE]||{},window[SpaceCamp.NAMESPACE].cmd=window[SpaceCamp.NAMESPACE].cmd||[];var f=window[SpaceCamp.NAMESPACE].cmd;window[SpaceCamp.NAMESPACE]=n(),window[SpaceCamp.NAMESPACE].cmd=o(f)},{}],52:[function(e,t,r){"use strict";var SpaceCamp={NAMESPACE:"headertag",PRODUCT:"DfpMode",services:{},htSlots:[],htSlotsMap:{},DeviceTypeChecker:{},initQueue:[],globalTimeout:null,instanceId:null,version:"2.15.0"};t.exports=SpaceCamp},{}]},{},[1,51]);